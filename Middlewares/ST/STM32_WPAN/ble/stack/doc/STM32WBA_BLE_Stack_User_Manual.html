<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<title>STM32WBA_BLE_Stack_User_Manual</title>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:"\@MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:"\@MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:1.0in;
	text-indent:-1.0in;
	page-break-before:always;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Arial",sans-serif;
	font-weight:bold;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:1.0in;
	text-indent:-1.0in;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Arial",sans-serif;
	font-weight:bold;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:1.0in;
	text-indent:-1.0in;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;
	font-weight:bold;}
h4
	{mso-style-link:"Heading 4 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:1.0in;
	text-indent:-1.0in;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	font-weight:bold;}
h5
	{mso-style-link:"Heading 5 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:1.0in;
	text-indent:-1.0in;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	font-weight:bold;}
h6
	{mso-style-link:"Heading 6 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:1.0in;
	text-indent:-1.0in;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria",serif;
	color:#4F81BD;
	font-weight:bold;
	font-style:italic;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{mso-style-link:"Heading 7 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:1.0in;
	text-indent:-1.0in;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria",serif;
	color:#4F81BD;}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{mso-style-link:"Heading 8 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:1.0in;
	text-indent:-1.0in;
	font-size:14.0pt;
	font-family:"Arial",sans-serif;
	color:#365F91;
	font-weight:bold;}
p.MsoHeading9, li.MsoHeading9, div.MsoHeading9
	{mso-style-link:"Heading 9 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:1.0in;
	text-indent:-1.0in;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;
	color:#365F91;
	font-weight:bold;}
p.MsoIndex1, li.MsoIndex1, div.MsoIndex1
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:11.0pt;
	text-indent:-11.0pt;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoIndex2, li.MsoIndex2, div.MsoIndex2
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:22.0pt;
	text-indent:-11.0pt;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoIndex3, li.MsoIndex3, div.MsoIndex3
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:33.0pt;
	text-indent:-11.0pt;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoIndex4, li.MsoIndex4, div.MsoIndex4
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:44.0pt;
	text-indent:-11.0pt;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoIndex5, li.MsoIndex5, div.MsoIndex5
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:55.0pt;
	text-indent:-11.0pt;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoIndex6, li.MsoIndex6, div.MsoIndex6
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:66.0pt;
	text-indent:-11.0pt;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoIndex7, li.MsoIndex7, div.MsoIndex7
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:77.0pt;
	text-indent:-11.0pt;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoIndex8, li.MsoIndex8, div.MsoIndex8
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:88.0pt;
	text-indent:-11.0pt;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoIndex9, li.MsoIndex9, div.MsoIndex9
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:99.0pt;
	text-indent:-11.0pt;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:0in;
	font-size:14.0pt;
	font-family:"Arial",sans-serif;
	color:black;
	font-weight:bold;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:55.85pt;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:1.6in;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:33.0pt;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoToc5, li.MsoToc5, div.MsoToc5
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:44.0pt;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoToc6, li.MsoToc6, div.MsoToc6
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:55.0pt;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoToc7, li.MsoToc7, div.MsoToc7
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:66.0pt;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoToc8, li.MsoToc8, div.MsoToc8
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:77.0pt;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoToc9, li.MsoToc9, div.MsoToc9
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:5.0pt;
	margin-left:88.0pt;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoFootnoteText, li.MsoFootnoteText, div.MsoFootnoteText
	{mso-style-link:"Footnote Text Char";
	margin:0in;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoCommentText, li.MsoCommentText, div.MsoCommentText
	{mso-style-link:"Comment Text Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"Header Char";
	margin:0in;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"Footer Char";
	margin:0in;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	font-size:9.0pt;
	font-family:"Arial",sans-serif;
	font-weight:bold;}
p.MsoTof, li.MsoTof, div.MsoTof
	{margin:0in;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
span.MsoFootnoteReference
	{vertical-align:super;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-link:"Title Char";
	margin:0in;
	text-align:right;
	font-size:20.0pt;
	font-family:"Arial",sans-serif;
	letter-spacing:.25pt;
	font-weight:bold;}
p.MsoTitleCxSpFirst, li.MsoTitleCxSpFirst, div.MsoTitleCxSpFirst
	{mso-style-link:"Title Char";
	margin:0in;
	text-align:right;
	font-size:20.0pt;
	font-family:"Arial",sans-serif;
	letter-spacing:.25pt;
	font-weight:bold;}
p.MsoTitleCxSpMiddle, li.MsoTitleCxSpMiddle, div.MsoTitleCxSpMiddle
	{mso-style-link:"Title Char";
	margin:0in;
	text-align:right;
	font-size:20.0pt;
	font-family:"Arial",sans-serif;
	letter-spacing:.25pt;
	font-weight:bold;}
p.MsoTitleCxSpLast, li.MsoTitleCxSpLast, div.MsoTitleCxSpLast
	{mso-style-link:"Title Char";
	margin:0in;
	text-align:right;
	font-size:20.0pt;
	font-family:"Arial",sans-serif;
	letter-spacing:.25pt;
	font-weight:bold;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{mso-style-link:"Body Text Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoSubtitle, li.MsoSubtitle, div.MsoSubtitle
	{mso-style-link:"Subtitle Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:.5in;
	font-size:12.0pt;
	font-family:"Cambria",serif;
	color:#4F81BD;
	letter-spacing:.75pt;
	font-style:italic;}
a:link, span.MsoHyperlink
	{color:blue;
	font-style:italic;
	text-decoration:none;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p
	{margin-right:0in;
	margin-left:0in;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
p.MsoCommentSubject, li.MsoCommentSubject, div.MsoCommentSubject
	{mso-style-link:"Comment Subject Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;
	font-weight:bold;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Balloon Text Char";
	margin:0in;
	font-size:8.0pt;
	font-family:"Tahoma",sans-serif;
	color:black;}
span.MsoPlaceholderText
	{color:gray;}
p.MsoNoSpacing, li.MsoNoSpacing, div.MsoNoSpacing
	{margin:0in;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin:0in;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin:0in;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoQuote, li.MsoQuote, div.MsoQuote
	{mso-style-link:"Quote Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;
	font-style:italic;}
p.MsoIntenseQuote, li.MsoIntenseQuote, div.MsoIntenseQuote
	{mso-style-link:"Intense Quote Char";
	margin-top:10.0pt;
	margin-right:.65in;
	margin-bottom:14.0pt;
	margin-left:.65in;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:#4F81BD;
	font-weight:bold;
	font-style:italic;}
span.MsoSubtleEmphasis
	{color:gray;
	font-style:italic;}
span.MsoIntenseEmphasis
	{color:#4F81BD;
	font-weight:bold;
	font-style:italic;}
span.MsoSubtleReference
	{font-variant:small-caps;
	color:#C0504D;
	text-decoration:underline;}
span.MsoIntenseReference
	{font-variant:small-caps;
	color:#C0504D;
	letter-spacing:.25pt;
	font-weight:bold;
	text-decoration:underline;}
span.MsoBookTitle
	{font-variant:small-caps;
	letter-spacing:.25pt;
	font-weight:bold;}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:1.0in;
	text-indent:-1.0in;
	page-break-before:always;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Arial",sans-serif;
	font-weight:bold;}
span.ag
	{mso-style-name:ag_;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-link:"Balloon Text";
	font-family:"Tahoma",sans-serif;
	color:black;}
span.CommentTextChar
	{mso-style-name:"Comment Text Char";
	mso-style-link:"Comment Text";
	font-family:"MS Mincho";
	color:black;}
span.Dxabstract
	{mso-style-name:Dx_abstract;}
span.Dxalt
	{mso-style-name:Dx_alt;}
span.Dxapiname
	{mso-style-name:Dx_apiname;
	color:#215868;}
span.Dxarea
	{mso-style-name:Dx_area;}
span.Dxaudience
	{mso-style-name:Dx_audience;}
span.Dxauthor
	{mso-style-name:Dx_author;}
span.Dxboolean
	{mso-style-name:Dx_boolean;
	color:#215868;}
span.Dxbrand
	{mso-style-name:Dx_brand;}
span.Dxcategory
	{mso-style-name:Dx_category;}
span.Dxchdesc
	{mso-style-name:Dx_chdesc;}
span.Dxchdeschd
	{mso-style-name:Dx_chdeschd;}
span.Dxchhead
	{mso-style-name:Dx_chhead;}
span.Dxchoice
	{mso-style-name:Dx_choice;
	color:#215868;}
span.Dxchoices
	{mso-style-name:Dx_choices;}
span.Dxchoicetable
	{mso-style-name:Dx_choicetable;
	color:#215868;}
span.Dxchoption
	{mso-style-name:Dx_choption;}
span.Dxchoptionhd
	{mso-style-name:Dx_choptionhd;}
span.Dxchrow
	{mso-style-name:Dx_chrow;}
span.Dxcite
	{mso-style-name:Dx_cite;
	color:#215868;}
span.Dxcmd
	{mso-style-name:Dx_cmd;}
span.Dxcmdname
	{mso-style-name:Dx_cmdname;
	color:#215868;}
span.Dxcodeblockchar
	{mso-style-name:Dx_codeblock_char;
	font-family:"Courier New";
	color:#215868;}
span.Dxcodeph
	{mso-style-name:Dx_codeph;
	font-family:"Courier New";
	color:windowtext;
	border:none;
	background:#D9D9D9;}
span.Dxcolspec
	{mso-style-name:Dx_colspec;}
span.Dxcomponent
	{mso-style-name:Dx_component;}
span.Dxcontext
	{mso-style-name:Dx_context;}
span.Dxcoords
	{mso-style-name:Dx_coords;}
span.Dxcopyrholder
	{mso-style-name:Dx_copyrholder;}
span.Dxcopyright
	{mso-style-name:Dx_copyright;}
span.Dxcopyryear
	{mso-style-name:Dx_copyryear;}
span.Dxcreated
	{mso-style-name:Dx_created;}
span.Dxcritdates
	{mso-style-name:Dx_critdates;}
span.Dxdata
	{mso-style-name:Dx_data;
	font-family:"Courier New";
	color:#215868;}
span.Dxdata-about
	{mso-style-name:Dx_data-about;
	font-family:"Courier New";
	color:#215868;}
span.Dxdd
	{mso-style-name:Dx_dd;
	color:#215868;}
span.Dxddhd
	{mso-style-name:Dx_ddhd;}
span.Dxdelim
	{mso-style-name:Dx_delim;}
span.Dxdesc
	{mso-style-name:Dx_desc;}
span.Dxdl
	{mso-style-name:Dx_dl;
	color:#215868;}
span.Dxdlentry
	{mso-style-name:Dx_dlentry;}
span.Dxdlhead
	{mso-style-name:Dx_dlhead;}
span.Dxdraft-comment
	{mso-style-name:Dx_draft-comment;}
span.Dxdt
	{mso-style-name:Dx_dt;
	color:#215868;}
span.Dxdthd
	{mso-style-name:Dx_dthd;}
span.Dxentry
	{mso-style-name:Dx_entry;
	font-family:"Arial",sans-serif;}
span.Dxfeatnum
	{mso-style-name:Dx_featnum;}
span.Dxfig
	{mso-style-name:Dx_fig;}
span.Dxfiggroup
	{mso-style-name:Dx_figgroup;}
span.Dxfilepath
	{mso-style-name:Dx_filepath;
	color:#215868;}
span.Dxfn
	{mso-style-name:Dx_fn;}
span.Dxforeign
	{mso-style-name:Dx_foreign;
	color:#215868;}
span.Dxfragment
	{mso-style-name:Dx_fragment;}
span.Dxfragref
	{mso-style-name:Dx_fragref;}
span.Dxgroupchoice
	{mso-style-name:Dx_groupchoice;}
span.Dxgroupcomp
	{mso-style-name:Dx_groupcomp;}
span.Dxgroupseq
	{mso-style-name:Dx_groupseq;}
span.Dximage
	{mso-style-name:Dx_image;}
span.Dximagemap
	{mso-style-name:Dx_imagemap;}
span.Dxindex-base
	{mso-style-name:Dx_index-base;}
span.Dxindex-see
	{mso-style-name:Dx_index-see;}
span.Dxindex-see-also
	{mso-style-name:Dx_index-see-also;}
span.Dxindex-sort-as
	{mso-style-name:Dx_index-sort-as;}
span.Dxindexterm
	{mso-style-name:Dx_indexterm;
	color:#215868;}
span.Dxindextermref
	{mso-style-name:Dx_indextermref;}
span.Dxinfo
	{mso-style-name:Dx_info;
	color:#215868;}
span.Dxitemgroup
	{mso-style-name:Dx_itemgroup;}
span.Dxkeyword
	{mso-style-name:Dx_keyword;
	color:#215868;}
span.Dxkeywords
	{mso-style-name:Dx_keywords;}
span.Dxkwd
	{mso-style-name:Dx_kwd;}
span.Dxli
	{mso-style-name:Dx_li;}
span.Dxlines
	{mso-style-name:Dx_lines;}
span.Dxlink
	{mso-style-name:Dx_link;}
span.Dxlinkinfo
	{mso-style-name:Dx_linkinfo;}
span.Dxlinklist
	{mso-style-name:Dx_linklist;}
span.Dxlinkpool
	{mso-style-name:Dx_linkpool;}
span.Dxlinktext
	{mso-style-name:Dx_linktext;
	color:blue;
	font-style:italic;
	text-decoration:underline;}
span.Dxlq
	{mso-style-name:Dx_lq;
	color:#215868;}
span.Dxmenucascade
	{mso-style-name:Dx_menucascade;
	color:#215868;}
span.Dxmsgblock
	{mso-style-name:Dx_msgblock;
	color:#215868;}
span.Dxmsgnum
	{mso-style-name:Dx_msgnum;
	color:#215868;}
span.Dxmsgph
	{mso-style-name:Dx_msgph;
	color:#215868;}
span.Dxnavtitle
	{mso-style-name:Dx_navtitle;}
span.Dxnote
	{mso-style-name:Dx_note;
	color:windowtext;}
span.Dxno-topic-nesting
	{mso-style-name:Dx_no-topic-nesting;}
span.Dxobject
	{mso-style-name:Dx_object;}
span.Dxol
	{mso-style-name:Dx_ol;}
span.Dxoper
	{mso-style-name:Dx_oper;
	color:#215868;}
span.Dxoption
	{mso-style-name:Dx_option;
	color:#215868;}
span.Dxothermeta
	{mso-style-name:Dx_othermeta;}
span.Dxparam
	{mso-style-name:Dx_param;}
span.Dxparml
	{mso-style-name:Dx_parml;
	color:#215868;}
span.Dxparmname
	{mso-style-name:Dx_parmname;
	color:#215868;}
span.Dxpd
	{mso-style-name:Dx_pd;}
span.Dxpermissions
	{mso-style-name:Dx_permissions;}
span.Dxph
	{mso-style-name:Dx_ph;
	color:windowtext;}
span.Dxplatform
	{mso-style-name:Dx_platform;}
span.Dxplentry
	{mso-style-name:Dx_plentry;
	color:#215868;}
span.Dxpostreq
	{mso-style-name:Dx_postreq;}
span.Dxpre
	{mso-style-name:Dx_pre;
	font-family:"Courier New";
	color:#215868;}
span.Dxprereq
	{mso-style-name:Dx_prereq;}
span.Dxprodinfo
	{mso-style-name:Dx_prodinfo;}
span.Dxprodname
	{mso-style-name:Dx_prodname;}
span.Dxprognum
	{mso-style-name:Dx_prognum;}
span.Dxpropdesc
	{mso-style-name:Dx_propdesc;}
span.Dxpropdeschd
	{mso-style-name:Dx_propdeschd;}
span.Dxproperties
	{mso-style-name:Dx_properties;}
span.Dxproperty
	{mso-style-name:Dx_property;}
span.Dxprophead
	{mso-style-name:Dx_prophead;}
span.Dxproptype
	{mso-style-name:Dx_proptype;}
span.Dxproptypehd
	{mso-style-name:Dx_proptypehd;}
span.Dxpropvalue
	{mso-style-name:Dx_propvalue;}
span.Dxpropvaluehd
	{mso-style-name:Dx_propvaluehd;}
span.Dxpt
	{mso-style-name:Dx_pt;}
span.Dxpublisher
	{mso-style-name:Dx_publisher;}
span.Dxq
	{mso-style-name:Dx_q;
	color:#215868;}
span.Dxrefsyn
	{mso-style-name:Dx_refsyn;}
span.Dxrepsep
	{mso-style-name:Dx_repsep;}
span.Dxrequired-cleanup
	{mso-style-name:Dx_required-cleanup;}
span.Dxresourceid
	{mso-style-name:Dx_resourceid;}
span.Dxresult
	{mso-style-name:Dx_result;}
span.Dxrevised
	{mso-style-name:Dx_revised;}
span.Dxrow
	{mso-style-name:Dx_row;}
span.Dxscreen
	{mso-style-name:Dx_screen;
	color:#215868;}
span.Dxsearchtitle
	{mso-style-name:Dx_searchtitle;}
span.Dxsep
	{mso-style-name:Dx_sep;}
span.Dxseries
	{mso-style-name:Dx_series;}
span.Dxshape
	{mso-style-name:Dx_shape;}
span.Dxshortcut
	{mso-style-name:Dx_shortcut;
	color:#215868;}
p.Dxshortdesc, li.Dxshortdesc, div.Dxshortdesc
	{mso-style-name:Dx_shortdesc;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
span.Dxsimpletable
	{mso-style-name:Dx_simpletable;}
span.Dxsl
	{mso-style-name:Dx_sl;}
span.Dxsli
	{mso-style-name:Dx_sli;}
span.Dxsource
	{mso-style-name:Dx_source;}
span.Dxstate
	{mso-style-name:Dx_state;
	color:#215868;}
span.Dxstentry
	{mso-style-name:Dx_stentry;}
span.Dxstep
	{mso-style-name:Dx_step;}
span.Dxstepresult
	{mso-style-name:Dx_stepresult;
	color:#215868;}
span.Dxsteps
	{mso-style-name:Dx_steps;}
span.Dxsteps-unordered
	{mso-style-name:Dx_steps-unordered;}
span.Dxstepxmp
	{mso-style-name:Dx_stepxmp;
	color:#215868;}
span.Dxsthead
	{mso-style-name:Dx_sthead;}
span.Dxstrow
	{mso-style-name:Dx_strow;}
span.Dxsubstep
	{mso-style-name:Dx_substep;
	color:#215868;}
span.Dxsubsteps
	{mso-style-name:Dx_substeps;}
span.Dxsynblk
	{mso-style-name:Dx_synblk;}
span.Dxsynnote
	{mso-style-name:Dx_synnote;}
span.Dxsynnoteref
	{mso-style-name:Dx_synnoteref;}
span.Dxsynph
	{mso-style-name:Dx_synph;
	font-family:"Courier New";
	color:#215868;}
span.Dxsyntaxdiagram
	{mso-style-name:Dx_syntaxdiagram;}
span.Dxsystemoutput
	{mso-style-name:Dx_systemoutput;
	color:#215868;}
span.Dxtable
	{mso-style-name:Dx_table;}
span.Dxtbody
	{mso-style-name:Dx_tbody;}
span.Dxterm
	{mso-style-name:Dx_term;
	color:#215868;}
span.Dxtgroup
	{mso-style-name:Dx_tgroup;}
span.Dxthead
	{mso-style-name:Dx_thead;}
span.Dxtitlealts
	{mso-style-name:Dx_titlealts;}
span.Dxtm
	{mso-style-name:Dx_tm;
	color:#215868;}
span.Dxtt
	{mso-style-name:Dx_tt;
	color:#215868;}
span.Dxtutorialinfo
	{mso-style-name:Dx_tutorialinfo;
	color:#215868;}
span.Dxuicontrol
	{mso-style-name:Dx_uicontrol;
	color:#215868;}
span.Dxul
	{mso-style-name:Dx_ul;}
span.Dxunknown
	{mso-style-name:Dx_unknown;}
span.Dxuserinput
	{mso-style-name:Dx_userinput;
	color:#215868;}
span.Dxvar
	{mso-style-name:Dx_var;
	color:#215868;}
span.Dxvarname
	{mso-style-name:Dx_varname;
	color:#215868;}
span.Dxvrm
	{mso-style-name:Dx_vrm;}
span.Dxvrmlist
	{mso-style-name:Dx_vrmlist;}
span.Dxwintitle
	{mso-style-name:Dx_wintitle;
	color:#215868;}
span.Dxxref
	{mso-style-name:Dx_xref;}
span.FooterChar
	{mso-style-name:"Footer Char";
	mso-style-link:Footer;
	font-family:"Arial",sans-serif;
	color:black;}
span.HeaderChar
	{mso-style-name:"Header Char";
	mso-style-link:Header;
	font-family:"Arial",sans-serif;
	color:black;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Arial",sans-serif;
	font-weight:bold;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Arial",sans-serif;
	font-weight:bold;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Arial",sans-serif;
	font-weight:bold;}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-link:"Heading 4";
	font-family:"Arial",sans-serif;
	font-weight:bold;}
span.Heading5Char
	{mso-style-name:"Heading 5 Char";
	mso-style-link:"Heading 5";
	font-family:"Arial",sans-serif;
	font-weight:bold;}
span.Heading6Char
	{mso-style-name:"Heading 6 Char";
	mso-style-link:"Heading 6";
	font-family:"Cambria",serif;
	color:#4F81BD;
	font-weight:bold;
	font-style:italic;}
span.Heading7Char
	{mso-style-name:"Heading 7 Char";
	mso-style-link:"Heading 7";
	font-family:"Cambria",serif;
	color:#4F81BD;}
span.Heading8Char
	{mso-style-name:"Heading 8 Char";
	mso-style-link:"Heading 8";
	font-family:"Arial",sans-serif;
	color:#365F91;
	font-weight:bold;}
span.Heading9Char
	{mso-style-name:"Heading 9 Char";
	mso-style-link:"Heading 9";
	font-family:"Arial",sans-serif;
	color:#365F91;
	font-weight:bold;}
span.IntenseQuoteChar
	{mso-style-name:"Intense Quote Char";
	mso-style-link:"Intense Quote";
	font-family:"MS Mincho";
	color:#4F81BD;
	font-weight:bold;
	font-style:italic;}
span.QuoteChar
	{mso-style-name:"Quote Char";
	mso-style-link:Quote;
	font-family:"MS Mincho";
	color:black;
	font-style:italic;}
span.SubtitleChar
	{mso-style-name:"Subtitle Char";
	mso-style-link:Subtitle;
	font-family:"Cambria",serif;
	color:#4F81BD;
	letter-spacing:.75pt;
	font-style:italic;}
span.TitleChar
	{mso-style-name:"Title Char";
	mso-style-link:Title;
	font-family:"Arial",sans-serif;
	letter-spacing:.25pt;
	font-weight:bold;}
span.Dxfig-title
	{mso-style-name:Dx_fig-title;
	font-weight:bold;
	font-style:italic;}
p.TableNormal, li.TableNormal, div.TableNormal
	{mso-style-name:TableNormal;
	margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	font-size:9.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.TableHead, li.TableHead, div.TableHead
	{mso-style-name:TableHead;
	margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	font-size:9.0pt;
	font-family:"Arial",sans-serif;
	color:black;
	font-weight:bold;}
p.Dxtopicurl, li.Dxtopicurl, div.Dxtopicurl
	{mso-style-name:Dx_topic_url;
	margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;
	color:gray;
	display:none;}
p.NormalNoIndent, li.NormalNoIndent, div.NormalNoIndent
	{mso-style-name:NormalNoIndent;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.Dxsectiontitle, li.Dxsectiontitle, div.Dxsectiontitle
	{mso-style-name:Dx_sectiontitle;
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	font-weight:bold;}
p.Dxshortdescription, li.Dxshortdescription, div.Dxshortdescription
	{mso-style-name:Dx_shortdescription;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	text-align:right;
	font-size:16.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.NoTocHeading1, li.NoTocHeading1, div.NoTocHeading1
	{mso-style-name:"NoTocHeading 1";
	mso-style-link:"NoTocHeading 1 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Arial",sans-serif;
	font-weight:bold;}
p.NoTocHeading2, li.NoTocHeading2, div.NoTocHeading2
	{mso-style-name:"NoTocHeading 2";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:-56.7pt;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Arial",sans-serif;
	font-weight:bold;}
p.NoTocHeading3, li.NoTocHeading3, div.NoTocHeading3
	{mso-style-name:"NoTocHeading 3";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:-56.7pt;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;
	font-weight:bold;}
p.NoTocHeading4, li.NoTocHeading4, div.NoTocHeading4
	{mso-style-name:"NoTocHeading 4";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:-56.7pt;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	font-weight:bold;}
p.NoTocHeading5, li.NoTocHeading5, div.NoTocHeading5
	{mso-style-name:"NoTocHeading 5";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:-56.7pt;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	font-weight:bold;}
p.NoTocHeading6, li.NoTocHeading6, div.NoTocHeading6
	{mso-style-name:"NoTocHeading 6";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:-1.0in;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria",serif;
	color:#4F81BD;
	font-weight:bold;
	font-style:italic;}
p.NoTocHeading7, li.NoTocHeading7, div.NoTocHeading7
	{mso-style-name:"NoTocHeading 7";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:-1.0in;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Cambria",serif;
	color:#4F81BD;}
p.NoTocHeading8, li.NoTocHeading8, div.NoTocHeading8
	{mso-style-name:"NoTocHeading 8";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:-1.0in;
	font-size:10.0pt;
	font-family:"Arial",sans-serif;
	color:#365F91;
	font-weight:bold;}
p.NoTocHeading9, li.NoTocHeading9, div.NoTocHeading9
	{mso-style-name:"NoTocHeading 9";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:-1.0in;
	font-size:10.0pt;
	font-family:"Arial",sans-serif;
	color:#365F91;
	font-weight:bold;}
span.NoTocHeading1Char
	{mso-style-name:"NoTocHeading 1 Char";
	mso-style-link:"NoTocHeading 1";
	font-family:"Arial",sans-serif;
	font-weight:bold;}
p.TableCaption, li.TableCaption, div.TableCaption
	{mso-style-name:TableCaption;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	text-align:center;
	font-size:9.0pt;
	font-family:"Arial",sans-serif;
	font-weight:bold;}
span.FootnoteTextChar
	{mso-style-name:"Footnote Text Char";
	mso-style-link:"Footnote Text";
	font-family:"Arial",sans-serif;
	color:black;}
p.ProductStatusField, li.ProductStatusField, div.ProductStatusField
	{mso-style-name:ProductStatusField;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	text-align:right;
	font-size:9.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
span.DocStatusField
	{mso-style-name:DocStatusField;
	font-family:"Arial",sans-serif;}
p.ProductStatusFootnoteField, li.ProductStatusFootnoteField, div.ProductStatusFootnoteField
	{mso-style-name:ProductStatusFootnoteField;
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	font-size:11.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.Appendix1, li.Appendix1, div.Appendix1
	{mso-style-name:Appendix1;
	margin-top:24.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:-56.7pt;
	text-indent:0in;
	page-break-before:always;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Arial",sans-serif;
	font-weight:bold;}
p.Dxcodeblock, li.Dxcodeblock, div.Dxcodeblock
	{mso-style-name:Dx_codeblock;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	background:#D9D9D9;
	font-size:8.0pt;
	font-family:"Courier New";
	color:black;}
p.RegAddress, li.RegAddress, div.RegAddress
	{mso-style-name:RegAddress;
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:85.0pt;
	text-indent:-85.0pt;
	line-height:12.0pt;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.RegApplicability, li.RegApplicability, div.RegApplicability
	{mso-style-name:RegApplicability;
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:85.0pt;
	text-indent:-85.0pt;
	line-height:12.0pt;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.RegBody, li.RegBody, div.RegBody
	{mso-style-name:RegBody;
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:28.0pt;
	line-height:12.0pt;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.RegBuffer, li.RegBuffer, div.RegBuffer
	{mso-style-name:RegBuffer;
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:85.0pt;
	text-indent:-85.0pt;
	line-height:12.0pt;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.RegBullet, li.RegBullet, div.RegBullet
	{mso-style-name:RegBullet;
	margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:49.0pt;
	text-indent:-21.0pt;
	line-height:12.0pt;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.RegBullet1, li.RegBullet1, div.RegBullet1
	{mso-style-name:RegBullet1;
	margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:49.0pt;
	text-indent:-21.0pt;
	line-height:12.0pt;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.RegBullet2, li.RegBullet2, div.RegBullet2
	{mso-style-name:RegBullet2;
	margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:70.0pt;
	text-indent:-21.0pt;
	line-height:12.0pt;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.RegDesc, li.RegDesc, div.RegDesc
	{mso-style-name:RegDesc;
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:85.0pt;
	text-indent:-85.0pt;
	line-height:12.0pt;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.RegName, li.RegName, div.RegName
	{mso-style-name:RegName;
	mso-style-link:"RegName Char";
	margin-top:14.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	page-break-after:avoid;
	text-autospace:none;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;
	color:black;
	font-weight:bold;}
span.RegNameChar
	{mso-style-name:"RegName Char";
	mso-style-link:RegName;
	font-family:"Arial",sans-serif;
	color:black;
	font-weight:bold;}
p.RegNote, li.RegNote, div.RegNote
	{mso-style-name:RegNote;
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:85.0pt;
	text-indent:-29.0pt;
	line-height:12.0pt;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.RegReset, li.RegReset, div.RegReset
	{mso-style-name:RegReset;
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:85.0pt;
	text-indent:-85.0pt;
	line-height:12.0pt;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.RegTBodyC, li.RegTBodyC, div.RegTBodyC
	{mso-style-name:RegTBodyC;
	margin-top:1.0pt;
	margin-right:0in;
	margin-bottom:1.0pt;
	margin-left:0in;
	text-align:center;
	line-height:8.0pt;
	text-autospace:none;
	font-size:7.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.RegTBodyR, li.RegTBodyR, div.RegTBodyR
	{mso-style-name:RegTBodyR;
	margin-top:2.0pt;
	margin-right:5.0pt;
	margin-bottom:2.0pt;
	margin-left:0in;
	text-align:right;
	line-height:11.0pt;
	text-autospace:none;
	font-size:9.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.RegTitle, li.RegTitle, div.RegTitle
	{mso-style-name:RegTitle;
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:170.0pt;
	line-height:14.0pt;
	page-break-after:avoid;
	text-autospace:none;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;
	color:black;
	font-weight:bold;}
p.RegType, li.RegType, div.RegType
	{mso-style-name:RegType;
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:85.0pt;
	text-indent:-85.0pt;
	line-height:12.0pt;
	text-autospace:none;
	font-size:10.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.TableBodyC, li.TableBodyC, div.TableBodyC
	{mso-style-name:TableBodyC;
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:2.0pt;
	margin-left:0in;
	text-align:center;
	line-height:11.0pt;
	text-autospace:none;
	font-size:9.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.TableBodyL, li.TableBodyL, div.TableBodyL
	{mso-style-name:TableBodyL;
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:2.0pt;
	margin-left:0in;
	line-height:11.0pt;
	text-autospace:none;
	font-size:9.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.TableBodyR, li.TableBodyR, div.TableBodyR
	{mso-style-name:TableBodyR;
	margin-top:2.0pt;
	margin-right:0in;
	margin-bottom:2.0pt;
	margin-left:0in;
	text-align:right;
	line-height:11.0pt;
	text-autospace:none;
	font-size:9.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.TableCap, li.TableCap, div.TableCap
	{mso-style-name:TableCap;
	margin-top:14.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.75in;
	text-indent:-.25in;
	line-height:14.0pt;
	text-autospace:none;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;
	color:black;
	font-weight:bold;}
p.TableHeadC, li.TableHeadC, div.TableHeadC
	{mso-style-name:TableHeadC;
	margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	text-align:center;
	line-height:11.0pt;
	text-autospace:none;
	font-size:9.0pt;
	font-family:"Arial",sans-serif;
	color:black;
	font-weight:bold;}
p.TableHeadL, li.TableHeadL, div.TableHeadL
	{mso-style-name:TableHeadL;
	margin-top:3.0pt;
	margin-right:0in;
	margin-bottom:3.0pt;
	margin-left:0in;
	line-height:11.0pt;
	text-autospace:none;
	font-size:9.0pt;
	font-family:"Arial",sans-serif;
	color:black;
	font-weight:bold;}
span.BodyTextChar
	{mso-style-name:"Body Text Char";
	mso-style-link:"Body Text";
	font-family:"Arial",sans-serif;
	color:black;}
span.CommentSubjectChar
	{mso-style-name:"Comment Subject Char";
	mso-style-link:"Comment Subject";
	font-family:"Arial",sans-serif;
	color:black;
	font-weight:bold;}
span.ui-provider
	{mso-style-name:ui-provider;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{margin-bottom:10.0pt;
	line-height:115%;}
 /* Page Definitions */
 @page WordSection1
	{size:595.35pt 841.95pt;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
@page WordSection2
	{size:595.35pt 841.95pt;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection2
	{page:WordSection2;}
@page WordSection3
	{size:595.35pt 841.95pt;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection3
	{page:WordSection3;}
@page WordSection4
	{size:595.35pt 841.95pt;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection4
	{page:WordSection4;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink=purple style='word-wrap:break-word'>

<div class=WordSection1>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=1062
 style='border-collapse:collapse;border:none'>
 <tr style='height:50.0pt'>
  <td width=260 valign=top style='width:194.8pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:none;
  padding:2.85pt 0in 2.85pt 0in;height:50.0pt'>
  <p class=MsoNormal><a name="_Toc215543917"></a><a name="_Toc215566348"></a><a
  name="_Toc215567540"><b><span style='font-size:20.0pt'><img width=178
  height=68 id="Picture 4"
  src="STM32WBA_BLE_Stack_User_Manual_files/image001.jpg"
  alt="A picture containing drawing&#10;&#10;Description automatically generated"></span></b></a></p>
  </td>
  <td width=802 valign=top style='width:601.7pt;border-top:solid black 1.0pt;
  border-left:none;border-bottom:solid black 1.0pt;border-right:none;
  padding:2.85pt 0in 2.85pt 0in;height:50.0pt'>
  <p class=MsoNormal align=right style='text-align:right'><b><span
  style='font-size:20.0pt;color:windowtext;letter-spacing:.25pt'>STM32WBA_BLE_UM</span></b></p>
  </td>
 </tr>
 <tr style='height:44.4pt'>
  <td width=1062 colspan=2 valign=top style='width:796.5pt;border:none;
  border-bottom:solid black 1.0pt;padding:2.85pt 0in 2.85pt 0in;height:44.4pt'>
  <p class=Dxshortdescription>STM32WBA BLE Stack User Manual</p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid;height:16.3pt'>
  <td width=1062 colspan=2 valign=top style='width:796.5pt;border:none;
  padding:0in 0in 0in 0in;height:16.3pt'>
  <p class=ProductStatusField>&nbsp;</p>
  </td>
 </tr>
</table>

<p class=MsoNormal><b><span style='font-size:16.0pt'>Revision history</span></b></p>

<p class=MsoNormal>27 January 2023 - Rev 1.0 - First release.</p>

<p class=MsoNormal>&nbsp;</p>

</div>

<span style='font-size:11.0pt;font-family:"Arial",sans-serif;color:black'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection2>

<p class=MsoNormal><b><span style='font-size:16.0pt'>Contents</span></b></p>

<p class=MsoToc1><a href="#_Toc125725154"><i>List of tables</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoToc1><a href="#_Toc125725155"><i>List of figures</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoToc1><a href="#_Toc125725156"><i>1</i><span style='font-size:11.0pt;
font-family:"Calibri",sans-serif;color:windowtext;font-weight:normal'>           </span><i>About
this document</i><span style='color:black;display:none'> </span><span style='color:black;display:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc125725157"><i>1.1</i><span style='font-size:
11.0pt;font-family:"Calibri",sans-serif;color:windowtext'>            </span><i>Purpose</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc125725158"><i>1.2</i><span style='font-size:
11.0pt;font-family:"Calibri",sans-serif;color:windowtext'>            </span><i>Scope</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc125725159"><i>1.3</i><span style='font-size:
11.0pt;font-family:"Calibri",sans-serif;color:windowtext'>            </span><i>Acronyms
definitions</i><span style='color:black;display:none'>. </span><span style='color:black;display:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc125725160"><i>1.4</i><span style='font-size:
11.0pt;font-family:"Calibri",sans-serif;color:windowtext'>            </span><i>References</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoToc1><a href="#_Toc125725161"><i>2</i><span style='font-size:11.0pt;
font-family:"Calibri",sans-serif;color:windowtext;font-weight:normal'>           </span><i>BLE
stack overview</i><span style='color:black;display:none'>.. </span><span style='color:black;display:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc125725162"><i>2.1</i><span style='font-size:
11.0pt;font-family:"Calibri",sans-serif;color:windowtext'>            </span><i>Release
contents</i><span style='color:black;display:none'>. </span><span style='color:black;display:none'>1</span></a></p>

<p class=MsoToc3><a href="#_Toc125725163"><i>2.1.1</i><span style='font-family:
"Calibri",sans-serif;color:windowtext'>        </span><i>Folder structure</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoToc3><a href="#_Toc125725164"><i>2.1.2</i><span style='font-family:
"Calibri",sans-serif;color:windowtext'>        </span><i>Library variants</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc125725165"><i>2.2</i><span style='font-size:
11.0pt;font-family:"Calibri",sans-serif;color:windowtext'>            </span><i>Real-Time
environment</i><span style='color:black;display:none'> </span><span style='color:black;display:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc125725166"><i>2.3</i><span style='font-size:
11.0pt;font-family:"Calibri",sans-serif;color:windowtext'>            </span><i>Library
dependencies</i><span style='color:black;display:none'>. </span><span style='color:black;display:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc125725167"><i>2.4</i><span style='font-size:
11.0pt;font-family:"Calibri",sans-serif;color:windowtext'>            </span><i>Library
compilation options</i><span style='color:black;display:none'>. </span><span style='color:black;display:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc125725168"><i>2.5</i><span style='font-size:
11.0pt;font-family:"Calibri",sans-serif;color:windowtext'>            </span><i>Application
compilation options</i><span style='color:black;display:none'>. </span><span style='color:black;display:none'>1</span></a></p>

<p class=MsoToc1><a href="#_Toc125725169"><i>3</i><span style='font-size:11.0pt;
font-family:"Calibri",sans-serif;color:windowtext;font-weight:normal'>           </span><i>BLE
stack user interface</i><span style='color:black;display:none'>. </span><span style='color:black;display:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc125725170"><i>3.1</i><span style='font-size:
11.0pt;font-family:"Calibri",sans-serif;color:windowtext'>            </span><i>BLE
stack initialization</i><span style='color:black;display:none'>. </span><span style='color:black;display:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc125725171"><i>3.2</i><span style='font-size:
11.0pt;font-family:"Calibri",sans-serif;color:windowtext'>            </span><i>BLE
stack process</i><span style='color:black;display:none'>. </span><span style='color:black;display:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc125725172"><i>3.3</i><span style='font-size:
11.0pt;font-family:"Calibri",sans-serif;color:windowtext'>            </span><i>BLE
stack modes</i><span style='color:black;display:none'>. </span><span style='color:black;display:none'>1</span></a></p>

<p class=MsoToc3><a href="#_Toc125725173"><i>3.3.1</i><span style='font-family:
"Calibri",sans-serif;color:windowtext'>        </span><i>Transparent Mode</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoToc3><a href="#_Toc125725174"><i>3.3.2</i><span style='font-family:
"Calibri",sans-serif;color:windowtext'>        </span><i>Direct mode for
commands and data sending</i><span style='color:black;display:none'>. </span><span style='color:black;display:none'>1</span></a></p>

<p class=MsoToc3><a href="#_Toc125725175"><i>3.3.3</i><span style='font-family:
"Calibri",sans-serif;color:windowtext'>        </span><i>BLE Asynchronous
ACI/HCI events and data reception</i><span style='color:black;display:none'>. </span><span style='color:black;display:none'>1</span></a></p>

<p class=MsoToc1><a href="#_Toc125725176"><i>4</i><span style='font-size:11.0pt;
font-family:"Calibri",sans-serif;color:windowtext;font-weight:normal'>           </span><i>BLE
stack porting</i><span style='color:black;display:none'>. </span><span style='color:black;display:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc125725177"><i>4.1</i><span style='font-size:
11.0pt;font-family:"Calibri",sans-serif;color:windowtext'>            </span><i>BLE
platform initialization</i><span style='color:black;display:none'>. </span><span style='color:black;display:none'>1</span></a></p>

<p class=MsoToc2><a href="#_Toc125725178"><i>4.2</i><span style='font-size:
11.0pt;font-family:"Calibri",sans-serif;color:windowtext'>            </span><i>BLE
platform functions</i><span style='color:black;display:none'>. </span><span style='color:black;display:none'>1</span></a></p>

<p class=MsoToc3><a href="#_Toc125725179"><i>4.2.1</i><span style='font-family:
"Calibri",sans-serif;color:windowtext'>        </span><i>NVM functions</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoToc3><a href="#_Toc125725180"><i>4.2.2</i><span style='font-family:
"Calibri",sans-serif;color:windowtext'>        </span><i>Timer functions</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoToc3><a href="#_Toc125725181"><i>4.2.3</i><span style='font-family:
"Calibri",sans-serif;color:windowtext'>        </span><i>AES functions</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoToc3><a href="#_Toc125725182"><i>4.2.4</i><span style='font-family:
"Calibri",sans-serif;color:windowtext'>        </span><i>PKA functions</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoToc3><a href="#_Toc125725183"><i>4.2.5</i><span style='font-family:
"Calibri",sans-serif;color:windowtext'>        </span><i>RNG functions</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=NormalNoIndent>&nbsp;</p>

<p class=MsoNormal></p>

</div>

<span style='font-size:11.0pt;font-family:"Arial",sans-serif;color:black'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection3>

<h1><a name="_Toc125725154"><span style='color:black'>List of tables</span></a></h1>

<p class=MsoTof><a href="#_Toc125724449"><i>Table 1: Acronyms definitions</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoTof><a href="#_Toc125724450"><i>Table 2: BLE stack variants</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoTof><a href="#_Toc125724451"><i>Table 3: BleStack_Init function</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoTof><a href="#_Toc125724452"><i>Table 4: BleStack_Init function's
parameters</i><span style='color:black;display:none'>. </span><span style='color:black;display:none'>1</span></a></p>

<p class=MsoTof><a href="#_Toc125724453"><i>Table 5: BleStack_Process function</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoTof><a href="#_Toc125724454"><i>Table 6: BleStack_Request function</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoTof><a href="#_Toc125724455"><i>Table 7: BLECB_Indication function</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoTof><a href="#_Toc125724456"><i>Table 8: BLEPLAT_Init function</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoTof><a href="#_Toc125724457"><i>Table 9: BLEPLAT functions' returns</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoTof><a href="#_Toc125724458"><i>Table 10: BLEPLAT NVM functions</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoTof><a href="#_Toc125724459"><i>Table 11: BLEPLAT Timer functions</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoTof><a href="#_Toc125724460"><i>Table 12: BLE PLAT AES functions</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoTof><a href="#_Toc125724461"><i>Table 13: BLEPLAT PKA functions</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoTof><a href="#_Toc125724462"><i>Table 14: BLEPLAT RNG function</i><span
style='color:black;display:none'>. </span><span
style='color:black;display:none'>1</span></a></p>

<p class=MsoNormal>&nbsp;</p>

<h1><a name="_Toc125725155"><span style='color:black'>List of figures</span></a></h1>

<p class=MsoTof><a href="#_Toc125724463"><i>Figure 1: BLE library folder
structure</i><span style='color:black;display:none'>. </span><span style='color:black;display:none'>1</span></a></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

</div>

<span style='font-size:11.0pt;font-family:"Arial",sans-serif;color:black'><br
clear=all style='page-break-before:always'>
</span>

<div class=WordSection4>

<h1><a name="_Toc125725156">1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>About this document</a></h1>

<h2><a name="_Ref488410436"></a><a name="_Toc125725157">1.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Purpose</a></h2>

<p class=MsoNormal style='text-align:justify'>This document describes to an
application developer how to integrate the SMT32WBAxx BLE stack library.</p>

<h2><a name="_Toc125725158">1.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Scope</a></h2>

<p class=MsoNormal>This document covers only the BLE stack library integration,
and it does not include the Link Layer integration aspects.</p>

<h2><a name="_Toc125725159">1.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Acronyms definitions</a></h2>

<div align=center>

<table class=Dxtablestyle border=1 cellspacing=0 cellpadding=0 width=539
 style='border-collapse:collapse;border:none'>
 <thead>
  <tr style='page-break-inside:avoid'>
   <td width=161 valign=top style='width:120.45pt;border:solid windowtext 1.0pt;
   background:#BFBFBF;padding:0in 5.4pt 0in 5.4pt'>
   <p class=TableHeadC><span class=Dxentry><span style='font-size:11.0pt'>Acronym</span></span></p>
   </td>
   <td width=378 valign=top style='width:283.45pt;border:solid windowtext 1.0pt;
   border-left:none;background:#BFBFBF;padding:0in 5.4pt 0in 5.4pt'>
   <p class=TableHeadC><span class=Dxentry><span style='font-size:11.0pt'>Definition</span></span></p>
   </td>
  </tr>
 </thead>
 <tr style='page-break-inside:avoid'>
  <td width=161 valign=top style='width:120.45pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableBodyL><span style='font-size:11.0pt'>HCI</span></p>
  </td>
  <td width=378 valign=top style='width:283.45pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableBodyL><span style='font-size:11.0pt'>Host Controller interface</span></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td width=161 valign=top style='width:120.45pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableBodyL><span style='font-size:11.0pt'>ACI</span></p>
  </td>
  <td width=378 valign=top style='width:283.45pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableBodyL style='page-break-after:avoid'><span style='font-size:
  11.0pt'>Application Controller Interface</span></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td width=161 valign=top style='width:120.45pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableBodyL><span style='font-size:11.0pt'>N/A</span></p>
  </td>
  <td width=378 valign=top style='width:283.45pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=TableBodyL style='page-break-after:avoid'><span style='font-size:
  11.0pt'>Not Applicable</span></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoCaption align=center style='text-align:center'><a
name="_Toc125724449"><span style='font-size:11.0pt'>Table </span></a><span style='font-size:11.0pt'>1</span><span style='font-size:11.0pt'>: Acronyms
definitions</span></p>

<h2><a name="_Toc125725160">1.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>References</a></h2>

<p class=MsoListParagraphCxSpFirst style='margin-left:.5in;text-indent:-.25in'>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>STM32WBA_BLE_Wireless_Interface.html</p>

<p class=MsoListParagraphCxSpLast style='margin-left:.5in;text-indent:-.25in'>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>STM32WBAxx
reference manual</p>

<h1><a name="_Toc125725161">2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>BLE stack overview</a></h1>

<h2><a name="_Toc125725162">2.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Release contents</a></h2>

<h3><a name="_Toc125725163">2.1.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Folder structure</a></h3>

<p class=MsoNormal>The BLE stack delivery contains 3 folders as following:</p>

<p class=MsoNormal align=center style='text-align:center;page-break-after:avoid'><img
width=578 height=460 id="Picture 1"
src="STM32WBA_BLE_Stack_User_Manual_files/image002.gif"></p>

<p class=MsoCaption align=center style='text-align:center'><a
name="_Toc125724463"><span style='font-size:11.0pt'>Figure </span></a><span style='font-size:11.0pt'>1</span><span style='font-size:11.0pt'>: BLE library
folder structure</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:.5in;text-indent:-.25in'>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>doc
folder contains the current document and STM32WBA_BLE_Wireless_Interface.html
which describes the BLE Application Commands Interface (ACI) and the Host
Commands Interface (HCI).</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.5in;text-indent:-.25in'>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=ui-provider>include folder contains the header files of the BLE stack
library interface. These files contain some definitions of constants and types
and the declarations of ACI and HCI functions.</span> It also contains the
declarations of some external modules functions used by the BLE stack (for more
details see <a href="#_BLE_platform_functions"><i>section 4.2</i></a>)</p>

<p class=MsoListParagraphCxSpLast style='margin-left:.5in;text-indent:-.25in'>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>lib
folder contains the 4 BLE stack library variants described in the following
section.</p>

<h3><a name="_Toc125725164"></a><a name="_Library_variants"></a>2.1.2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Library variants</h3>

<p class=MsoNormal>The BLE stack library is delivered in 4 variants:</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>2 variants containing the BLE host stack:</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Full stack (stm32wba_ble_stack_full.a) </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Basic stack (stm32wba_ble_stack_basic.a)</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>2 variants without the BLE host stack (controller only)</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Link Layer Only stack (stm32wba_ble_stack_llo.a)</p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Link Layer Only Basic stack (stm32wba_ble_stack_llobasic.a)</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Here are the 4 BLE stack variants details:</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:.5in;text-indent:-.25in'>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Full
stack (stm32wba_ble_stack_full.a) includes the LE Controller and the Host
Stack, and contains all the legacy stack supported features plus the extended
advertising, GATT caching, ACI HCI flow control, isochronous support for audio,
L2CAP connection oriented channels.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.5in'>Note: This BLE
stack variant can be configured to run in controller only mode (host stack is
bypassed).</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.5in'>See the parameter
options of the initialization structure <b>BleStack_init_t parameters</b> in <a
href="#_BLE_platform_initialization"><i>section 4.1</i></a> to enable/disable
the controller only mode.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.5in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.5in;text-indent:-.25in'>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Basic
stack (stm32wba_ble_stack_basic.a) contains only basic supported features or
BLE legacy features without extended advertising, neither GATT caching, nor ACI
HCI flow control, nor isochronous support, nor L2CAP connection oriented
channels. The Host Stack is included, and it supports all the basic GATT, GAP
and L2CAP features.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.5in'> </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.5in;text-indent:-.25in'>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Link
Layer Only stack (stm32wba_ble_stack_llo.a) contains all the features supported
by the full stack but doesnt include the Host Stack (GATT, GAP and L2CAP
features)</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.5in'>&nbsp;</p>

<p class=MsoListParagraphCxSpLast style='margin-left:.5in;text-indent:-.25in'>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Link
Layer Only Basic stack (stm32wba_ble_stack_llobasic.a) contains all the
features supported by the basic stack but doesnt include the Host Stack (GATT,
GAP and L2CAP features)</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>For more information, please refer to STM32WBA_BLE_Wireless_Interface.html
to know which ACI and HCI command/event is supported by each stack configuration.</p>

<p class=MsoNormal>The table below details the supported features for each BLE
stack variants:</p>

<p class=MsoNormal>&nbsp;</p>

<div align=center>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=1067
 style='width:800.35pt;border-collapse:collapse'>
 <tr style='height:45.0pt'>
  <td width=275 style='width:206.0pt;border:solid windowtext 1.0pt;padding:
  0in 5.4pt 0in 5.4pt;height:45.0pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Configuration</b></p>
  </td>
  <td width=188 valign=bottom style='width:140.8pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt;height:45.0pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>FULL = Host Stack + LE Controller <br>
  </b><span style='line-height:115%'>(stm32wba_ble_stack_full)</span></p>
  </td>
  <td width=203 valign=bottom style='width:152.4pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt;height:45.0pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>BASIC = Host Stack + LE Controller Basic Feature<br>
  </b><span style='line-height:115%'>(stm32wba_ble_stack_basic)</span></p>
  </td>
  <td width=184 valign=bottom style='width:137.75pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt;height:45.0pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>LL_ONLY = LE Controller Only<br>
  </b><span style='line-height:115%'>(stm32wba_ble_stack_llo)</span></p>
  </td>
  <td width=218 valign=bottom style='width:163.4pt;border:solid windowtext 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt;height:45.0pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>LL_ONLY_BASIC = LE Controller Only<br>
  Basic Feature<br>
  </b><span style='line-height:115%'>(stm32wba_ble_stack_llobasic)</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><i><span style='color:black'>Link Layer library dependency</span></i></b></p>
  </td>
  <td width=188 nowrap valign=top style='width:140.8pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><i><span
  style='color:windowtext'>LinkLayer_BLE_Full_lib</span></i></p>
  </td>
  <td width=203 nowrap valign=top style='width:152.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><i><span
  style='color:windowtext'>LinkLayer_BLE_Basic_lib</span></i></p>
  </td>
  <td width=184 nowrap valign=top style='width:137.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><i><span
  style='color:windowtext'>LinkLayer_BLE_Full_lib</span></i></p>
  </td>
  <td width=218 nowrap valign=top style='width:163.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><i><span
  style='color:windowtext'>LinkLayer_BLE_Basic_lib</span></i></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>Advertising</span></b></p>
  </td>
  <td width=188 nowrap valign=top style='width:140.8pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=203 nowrap valign=top style='width:152.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=184 nowrap valign=top style='width:137.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=218 nowrap valign=top style='width:163.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>Scanning</span></b></p>
  </td>
  <td width=188 nowrap valign=top style='width:140.8pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=203 nowrap valign=top style='width:152.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=184 nowrap valign=top style='width:137.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=218 nowrap valign=top style='width:163.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>Slave Connection</span></b></p>
  </td>
  <td width=188 nowrap valign=top style='width:140.8pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=203 nowrap valign=top style='width:152.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=184 nowrap valign=top style='width:137.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=218 nowrap valign=top style='width:163.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>Data length extension</span></b></p>
  </td>
  <td width=188 nowrap valign=top style='width:140.8pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=203 nowrap valign=top style='width:152.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=184 nowrap valign=top style='width:137.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=218 nowrap valign=top style='width:163.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>Privacy</span></b></p>
  </td>
  <td width=188 nowrap valign=top style='width:140.8pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=203 nowrap valign=top style='width:152.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=184 nowrap valign=top style='width:137.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=218 nowrap valign=top style='width:163.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>LE Encryption</span></b></p>
  </td>
  <td width=188 nowrap valign=top style='width:140.8pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=203 nowrap valign=top style='width:152.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=184 nowrap valign=top style='width:137.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=218 nowrap valign=top style='width:163.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>Legacy Pairing, LE secure
  connections</span></b></p>
  </td>
  <td width=188 nowrap valign=top style='width:140.8pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=203 nowrap valign=top style='width:152.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=184 nowrap valign=top style='width:137.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=218 nowrap valign=top style='width:163.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>Master Connection</span></b></p>
  </td>
  <td width=188 nowrap valign=top style='width:140.8pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=203 nowrap valign=top style='width:152.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=184 nowrap valign=top style='width:137.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=218 nowrap valign=top style='width:163.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>2Mbit</span></b></p>
  </td>
  <td width=188 nowrap valign=top style='width:140.8pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=203 nowrap valign=top style='width:152.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=184 nowrap valign=top style='width:137.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=218 nowrap valign=top style='width:163.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>Long Range</span></b></p>
  </td>
  <td width=188 nowrap valign=top style='width:140.8pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=203 nowrap valign=top style='width:152.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=184 nowrap valign=top style='width:137.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=218 nowrap valign=top style='width:163.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>Channel Selection Algorithm
  #2</span></b></p>
  </td>
  <td width=188 nowrap valign=top style='width:140.8pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=203 nowrap valign=top style='width:152.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=184 nowrap valign=top style='width:137.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=218 nowrap valign=top style='width:163.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>Direct Test Mode</span></b></p>
  </td>
  <td width=188 nowrap valign=top style='width:140.8pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=203 nowrap valign=top style='width:152.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=184 nowrap valign=top style='width:137.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=218 nowrap valign=top style='width:163.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>Config HCI only</span></b></p>
  </td>
  <td width=188 nowrap valign=top style='width:140.8pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=203 nowrap style='width:152.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#FFC7CE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Not Supported</span></p>
  </td>
  <td width=184 nowrap valign=top style='width:137.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=218 nowrap valign=top style='width:163.4pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>Extended Advertising</span></b></p>
  </td>
  <td width=188 nowrap valign=top style='width:140.8pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=203 nowrap style='width:152.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#FFC7CE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Not Supported</span></p>
  </td>
  <td width=184 nowrap valign=top style='width:137.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=218 nowrap style='width:163.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#FFC7CE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Not Supported</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>Periodic Advertising</span></b></p>
  </td>
  <td width=188 nowrap valign=top style='width:140.8pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=203 nowrap style='width:152.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#FFC7CE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Not Supported</span></p>
  </td>
  <td width=184 nowrap valign=top style='width:137.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=218 nowrap style='width:163.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#FFC7CE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Not Supported</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>AOA/AOD</span></b></p>
  </td>
  <td width=188 nowrap style='width:140.8pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#EAF1DD;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Enabled</span></p>
  </td>
  <td width=203 nowrap style='width:152.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#FFC7CE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Not Supported</span></p>
  </td>
  <td width=184 nowrap style='width:137.75pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#EAF1DD;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Enabled</span></p>
  </td>
  <td width=218 nowrap style='width:163.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#FFC7CE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Not Supported</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>Periodic Sync Transfer</span></b></p>
  </td>
  <td width=188 nowrap style='width:140.8pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=203 nowrap style='width:152.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#FFC7CE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Not Supported</span></p>
  </td>
  <td width=184 nowrap style='width:137.75pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=218 nowrap style='width:163.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#FFC7CE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Not Supported</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>Connected Isochronous</span></b></p>
  </td>
  <td width=188 nowrap style='width:140.8pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#EAF1DD;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Enabled</span></p>
  </td>
  <td width=203 nowrap style='width:152.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#FFC7CE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Not Supported</span></p>
  </td>
  <td width=184 nowrap valign=top style='width:137.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#EAF1DD;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Enabled</span></p>
  </td>
  <td width=218 nowrap style='width:163.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#FFC7CE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Not Supported</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>Isochronous Broadcaster</span></b></p>
  </td>
  <td width=188 nowrap style='width:140.8pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#EAF1DD;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Enabled</span></p>
  </td>
  <td width=203 nowrap style='width:152.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#FFC7CE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Not Supported</span></p>
  </td>
  <td width=184 nowrap valign=top style='width:137.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#EAF1DD;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Enabled</span></p>
  </td>
  <td width=218 nowrap style='width:163.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#FFC7CE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Not Supported</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>Isochronous Synchronized</span></b></p>
  </td>
  <td width=188 nowrap style='width:140.8pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#EAF1DD;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Enabled</span></p>
  </td>
  <td width=203 nowrap style='width:152.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#FFC7CE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Not Supported</span></p>
  </td>
  <td width=184 nowrap valign=top style='width:137.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#EAF1DD;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Enabled</span></p>
  </td>
  <td width=218 nowrap style='width:163.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#FFC7CE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Not Supported</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>LE Power Control</span></b></p>
  </td>
  <td width=188 nowrap style='width:140.8pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#EAF1DD;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Enabled</span></p>
  </td>
  <td width=203 nowrap style='width:152.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#FFC7CE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Not Supported</span></p>
  </td>
  <td width=184 nowrap valign=top style='width:137.75pt;border-top:none;
  border-left:none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#EAF1DD;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Enabled</span></p>
  </td>
  <td width=218 nowrap style='width:163.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#FFC7CE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Not Supported</span></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>GATT Client</span></b></p>
  </td>
  <td width=188 nowrap style='width:140.8pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=203 nowrap style='width:152.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=184 nowrap style='width:137.75pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><b><span
  style='color:windowtext'>N/A</span></b></p>
  </td>
  <td width=218 nowrap style='width:163.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><b><span
  style='color:windowtext'>N/A</span></b></p>
  </td>
 </tr>
 <tr style='height:15.75pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.75pt'>
  <p class=MsoNormal><b><span style='color:black'>Enhanced ATT</span></b></p>
  </td>
  <td width=188 nowrap style='width:140.8pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#EAF1DD;padding:0in 5.4pt 0in 5.4pt;height:15.75pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Enabled</span></p>
  </td>
  <td width=203 nowrap style='width:152.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#FFC7CE;padding:0in 5.4pt 0in 5.4pt;height:15.75pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Not Supported</span></p>
  </td>
  <td width=184 nowrap style='width:137.75pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.75pt'>
  <p class=MsoNormal align=center style='text-align:center'><b><span
  style='color:windowtext'>N/A</span></b></p>
  </td>
  <td width=218 nowrap style='width:163.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.75pt'>
  <p class=MsoNormal align=center style='text-align:center'><b><span
  style='color:windowtext'>N/A</span></b></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>LE L2CAP Connection Oriented
  channel</span></b></p>
  </td>
  <td width=188 nowrap style='width:140.8pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#C6EFCE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Certified</span></p>
  </td>
  <td width=203 nowrap style='width:152.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#FFC7CE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Not Supported</span></p>
  </td>
  <td width=184 nowrap style='width:137.75pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><b><span
  style='color:windowtext'>N/A</span></b></p>
  </td>
  <td width=218 nowrap style='width:163.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><b><span
  style='color:windowtext'>N/A</span></b></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>GATT Caching</span></b></p>
  </td>
  <td width=188 nowrap style='width:140.8pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#EAF1DD;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Enabled</span></p>
  </td>
  <td width=203 nowrap style='width:152.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  background:#FFC7CE;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:black'>Not Supported</span></p>
  </td>
  <td width=184 nowrap style='width:137.75pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><b><span
  style='color:windowtext'>N/A</span></b></p>
  </td>
  <td width=218 nowrap style='width:163.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><b><span
  style='color:windowtext'>N/A</span></b></p>
  </td>
 </tr>
 <tr style='height:15.0pt'>
  <td width=275 nowrap style='width:206.0pt;border:solid windowtext 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal><b><span style='color:black'>Number of Links</span></b></p>
  </td>
  <td width=188 nowrap style='width:140.8pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:windowtext'>8</span></p>
  </td>
  <td width=203 nowrap style='width:152.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:windowtext'>8</span></p>
  </td>
  <td width=184 nowrap style='width:137.75pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='color:windowtext'>8</span></p>
  </td>
  <td width=218 nowrap style='width:163.4pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:15.0pt'>
  <p class=MsoNormal align=center style='text-align:center;page-break-after:
  avoid'><span style='color:windowtext'>8</span></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoCaption align=center style='text-align:center'><a
name="_Toc125724450"><span style='font-size:11.0pt'>Table </span></a><span style='font-size:11.0pt'>2</span><span style='font-size:11.0pt'>: BLE stack
variants</span></p>

<p class=MsoNormal>Note: The features Certified are the supported features
that have been officially certified. The feature Enabled are the supported
features that have not been certified yet.</p>

<h2><a name="_Toc125725165">2.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Real-Time environment</a></h2>

<p class=MsoNormal><span style='color:black'>The BLE stack library is
independent from the real-time software environment as well as any real-time
resources.</span></p>

<p class=MsoNormal><span style='color:black'>The functions of this library used
during run time are:</span></p>

<p class=MsoNormal><span style='color:black'>- The BLE stack commands (HCI,
ACI...),</span></p>

<p class=MsoNormal><span style='color:black'>- The BLE stack process,</span></p>

<p class=MsoNormal><span style='color:black'>- The BLE stack callback functions
called by the link layer or the platform software (PKA, Timer...).</span></p>

<p class=MsoNormal><span style='color:black'>All these functions must be called
from the same level of execution, i.e., from the same task when using a real-time
operating system or from the main loop in a bare metal environment.</span></p>

<h2><a name="_Toc125725166">2.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Library dependencies</a></h2>

<p class=MsoNormal>The BLE stack library depends on (i.e. it must be linked
with the following libraries):</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:.5in;text-indent:-.25in'>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>STM32WBAxx
Link Layer libraries (c.f. <i>Table 2 BLE stack variants</i> for Link Layer
library configuration dependency).</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.5in;text-indent:-.25in'>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Standard
C library:</p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span>Only basic memory functions are used (memcpy, memset, memmove,
memcmp)</p>

<h2><a name="_Toc125725167">2.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Library compilation options</a></h2>

<p class=MsoNormal>The BLE stack library was compiled with the following
options in IAR <sup><span style='font-size:12.0pt'>®</span></sup> environment:</p>

<p class=MsoListParagraph style='margin-top:0in;margin-right:0in;margin-bottom:
0in;margin-left:.5in;text-indent:-.25in'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>General options: </p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;text-indent:-.25in;vertical-align:middle'><span
style='font-size:10.0pt;font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span>Byte order: Little-endian</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;text-indent:-.25in;vertical-align:middle'><span
style='font-size:10.0pt;font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span>FPU: VFPv5 single precision</p>

<p class=MsoListParagraph style='margin-top:0in;margin-right:0in;margin-bottom:
0in;margin-left:.5in;text-indent:-.25in'>-<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>C/C++ Compilation options</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;text-indent:-.25in;vertical-align:middle'><span
style='font-size:10.0pt;font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span>Extra compilation options (--aeabi &amp;&amp; --guard_calls) </p>

<p class=MsoNormal style='margin-bottom:0in;text-indent:65.5pt'>--aeabi: Used
to generate AEABI-compliant object code</p>

<p class=MsoNormal style='margin-bottom:0in;text-indent:65.5pt'>--guard_calls: Used
mandatory for AEABI-compliant</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;text-indent:-.25in;vertical-align:middle'><span
style='font-size:10.0pt;font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span>Plain 'char' is unsigned</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>As mentioned above, the BLE stack library is AEABI
compliant; The advantage of adhering to AEABI is that the BLE stack library can
be linked with any other AEABI-compliant module, even modules produced by tools
provided by other vendors than IAR <sup><span style='font-size:12.0pt'>®</span></sup>.</p>

<p class=MsoNormal>For the enum type, the IAR <sup><span style='font-size:12.0pt'>®</span></sup>
C/C++ compiler will use the smallest type required to hold enum constants,
preferring signed rather than unsigned.</p>

<h2><a name="_Toc125725168">2.5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Application compilation options</a></h2>

<p class=MsoNormal>These compilation options are compulsory:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.25in;text-indent:-.25in;vertical-align:middle'><span
style='font-size:10.0pt;font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span>Plain 'char' is unsigned</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.25in;text-indent:-.25in;vertical-align:middle'><span
style='font-size:10.0pt;font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span>Short enum:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;text-indent:-.25in;vertical-align:middle'><span
style='font-size:10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>For IAR <sup><span style='font-size:12.0pt'>®</span></sup> compiler,
this option is set by default</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:0in;
margin-left:.75in;text-indent:-.25in;vertical-align:middle'><span
style='font-size:10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Keil µvision <sup><span style='font-size:12.0pt'>®</span></sup> environment
with ARM <sup><span style='font-size:12.0pt'>®</span></sup> CC compiler, the
following option shall be added:   <i>-fshort-enums</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In Keil µvision <sup><span style='font-size:12.0pt'>®</span></sup>
environment with ARM <sup><span style='font-size:12.0pt'>®</span></sup> CC
compiler, the 2 following linker options shall be added:</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:.75in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i>--diag_suppress 6654</i></p>

<p class=MsoListParagraphCxSpLast style='margin-left:.75in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i>--diag_suppress 6775</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In CubeIDE environment with GCC compiler, there is no need
to add specific compiler options or linker options.</p>

<h1><a name="_Toc125725169">3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>BLE stack user interface</a></h1>

<p class=MsoNormal>In order to use the main functions of the BLE stack library,
the user application code needs to include blestack.h. </p>

<p class=MsoNormal>In addition, to be able to directly call BLE commands (see
section 3.3.2), the application needs to also include blecore.h.</p>

<h2><a name="_Toc125725170">3.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>BLE stack initialization</a> </h2>

<p class=MsoNormal>&nbsp;</p>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=684
 style='width:512.75pt;border-collapse:collapse;border:none'>
 <tr style='height:27.6pt'>
  <td width=219 valign=top style='width:164.35pt;border:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:27.6pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Functions</b></p>
  </td>
  <td width=255 valign=top style='width:190.9pt;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt;height:27.6pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Parameters</b></p>
  </td>
  <td width=210 valign=top style='width:157.5pt;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt;height:27.6pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Return Value</b></p>
  </td>
 </tr>
 <tr style='height:44.7pt'>
  <td width=219 valign=top style='width:164.35pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:44.7pt'>
  <p class=MsoNormal><b><i>BleStack_Init</i></b></p>
  </td>
  <td width=255 valign=top style='width:190.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:44.7pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><span
  lang=FR>BleStack_init_t* <b>init_params_p</b></span></p>
  </td>
  <td width=210 valign=top style='width:157.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:44.7pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%;page-break-after:
  avoid'>tBleStatus</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoCaption align=center style='text-align:center'><a
name="_Toc125724451"><span style='font-size:11.0pt'>Table </span></a><span style='font-size:11.0pt'>3</span><span style='font-size:11.0pt'>: BleStack_Init
function</span></p>

<p class=MsoNormal>BleStack_Init: The BLE Stack initialization routine. This
function is used to define the memory and configure the BLE Stack. <br>
All BleStack_init_t parameters are described below:</p>

<p class=MsoNormal>&nbsp;</p>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0 width=1037
 style='border-collapse:collapse;border:none'>
 <tr style='height:7.65pt'>
  <td width=212 valign=top style='width:159.3pt;border:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:7.65pt'>
  <p class=MsoNormal align=center style='text-align:center'><b>BleStack_init_t
  parameters</b></p>
  </td>
  <td width=441 valign=top style='width:330.8pt;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt;height:7.65pt'>
  <p class=MsoNormal align=center style='text-align:center'><b>Definition</b></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt;height:7.65pt'>
  <p class=MsoNormal align=center style='margin-left:.25in;text-align:center'><b>Value</b></p>
  </td>
 </tr>
 <tr style='height:7.65pt'>
  <td width=212 valign=top style='width:159.3pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:7.65pt'>
  <p class=MsoNormal>uint16_t<b> numAttrRecord</b></p>
  </td>
  <td width=441 valign=top style='width:330.8pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:7.65pt'>
  <p class=MsoNormal>Maximum number of attribute records related to all the
  required characteristics (excluding the services) that can be stored in the
  GATT database, for the specific BLE user application.</p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:7.65pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'><span
  style='line-height:115%'>Value = &lt;number of user attributes&gt; + 9                           </span></p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'><span
  style='line-height:115%'>&nbsp;</span></p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'><span
  style='line-height:115%'>Min value = 9</span></p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'><span
  style='line-height:115%'>&nbsp;</span></p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'><span
  style='line-height:115%'>Max value: depending on the GATT database defined by
  the user application.</span></p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'><span
  style='line-height:115%'>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:7.65pt'>
  <td width=212 valign=top style='width:159.3pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:7.65pt'>
  <p class=MsoNormal>uint16_t<b> numAttrServ</b></p>
  </td>
  <td width=441 valign=top style='width:330.8pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:7.65pt'>
  <p class=MsoNormal>Defines the maximum number of services that can be stored
  in the GATT database. Note that the GAP and GATT services are automatically
  added at initialization so this parameter must be the number of user services
  increased by two.</p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:7.65pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'><span
  style='line-height:115%'>Value = &lt;number of user services&gt; + 2.</span></p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'><span
  style='line-height:115%'>&nbsp;</span></p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'><span
  style='line-height:115%'>Min value = 2</span></p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'><span
  style='line-height:115%'>&nbsp;</span></p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'><span
  style='line-height:115%'>Max value: depending on the GATT database defined by
  the user application</span></p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'><span
  style='line-height:115%'>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:7.65pt'>
  <td width=212 valign=top style='width:159.3pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:7.65pt'>
  <p class=MsoNormal>uint16_t<b> attrValueArrSize</b></p>
  </td>
  <td width=441 valign=top style='width:330.8pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:7.65pt'>
  <p class=MsoNormal>Size of the storage area for the attribute values </p>
  <p class=MsoNormal>By default, two services are present and must be included,
  with dedicated characteristics: </p>
  <p class=MsoNormal> Generic access service: service UUID 0x1800, with its
  three mandatory characteristics: </p>
  <p class=MsoListParagraphCxSpFirst style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.5in;text-indent:-.25in;line-height:115%'><span
  style='line-height:115%;font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><span style='line-height:115%'>Device name UUID 0x2A00. </span></p>
  <p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.5in;text-indent:-.25in;line-height:115%'><span
  style='line-height:115%;font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><span style='line-height:115%'>Appearance UUID 0x2A01.</span></p>
  <p class=MsoListParagraphCxSpLast style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.5in;text-indent:-.25in;line-height:115%'><span
  style='line-height:115%;font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><span style='line-height:115%'>Peripheral preferred connection
  parameters. UUID 0x2A04. </span></p>
  <p class=MsoNormal> Generic attribute service. UUID 0x1801, with one optional
  characteristic: </p>
  <p class=MsoListParagraph style='margin-top:0in;margin-right:0in;margin-bottom:
  0in;margin-left:.5in;text-indent:-.25in;line-height:115%'><span
  style='line-height:115%;font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><span style='line-height:115%'>Service changed UUID 0x2A05. </span></p>
  <p class=MsoNormal>Each characteristic contributes to the attrValueArrSize
  value as follows: </p>
  <p class=MsoNormal> Characteristic value length plus: </p>
  <p class=MsoListParagraphCxSpFirst style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.5in;text-indent:-.25in;line-height:115%'><span
  style='line-height:115%;font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><span style='line-height:115%'>5 bytes if characteristic UUID
  is 16 bits </span></p>
  <p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.5in;text-indent:-.25in;line-height:115%'><span
  style='line-height:115%;font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><span style='line-height:115%'>19 bytes if characteristic UUID
  is 128 bits </span></p>
  <p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.5in;text-indent:-.25in;line-height:115%'><span
  style='line-height:115%;font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><span style='line-height:115%'>2 bytes if characteristic has a
  server configuration descriptor </span></p>
  <p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.5in;text-indent:-.25in;line-height:115%'><span
  style='line-height:115%;font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><span style='line-height:115%'>2 bytes * NUM_OF_LINKs if the
  characteristic has a client configuration descriptor </span></p>
  <p class=MsoListParagraphCxSpLast style='margin-top:0in;margin-right:0in;
  margin-bottom:0in;margin-left:.5in;text-indent:-.25in;line-height:115%'><span
  style='line-height:115%;font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span><span style='line-height:115%'>2 bytes if the characteristic
  has extended properties </span></p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:7.65pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'><span
  style='line-height:115%'>Depends on the number of attributes used by the application.</span></p>
  </td>
 </tr>
 <tr style='height:7.65pt'>
  <td width=212 valign=top style='width:159.3pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:7.65pt'>
  <p class=MsoNormal>uint8_t<b> numOfLinks</b></p>
  </td>
  <td width=441 valign=top style='width:330.8pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:7.65pt'>
  <p class=MsoNormal>Maximum number of simultaneous connections that the device
  will support.</p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:7.65pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'><span
  style='line-height:115%'>Min value: 1</span></p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'><span
  style='line-height:115%'>Max value: 8</span></p>
  </td>
 </tr>
 <tr style='height:7.65pt'>
  <td width=212 valign=top style='width:159.3pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:7.65pt'>
  <p class=MsoNormal>uint8_t<b> prWriteListSize</b></p>
  </td>
  <td width=441 valign=top style='width:330.8pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:7.65pt'>
  <p class=MsoNormal>Maximum number of supported prepare ATT write request.</p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:7.65pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'><b><span
  style='line-height:115%'>prWriteListSize</span></b><span style='line-height:
  115%'> value: </span></p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'><span
  style='line-height:115%'>DIVC (max_char_size, default_att_mtu - 5) * 2</span></p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'><span
  style='line-height:115%'>&nbsp;</span></p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'><span
  style='line-height:115%'>max_char_size: Maximum characteristics value size</span></p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'><span
  style='line-height:115%'>default_att_mtu = 23</span></p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'><span
  style='line-height:115%'>&nbsp;</span></p>
  </td>
 </tr>
 <tr style='height:7.65pt'>
  <td width=212 valign=top style='width:159.3pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:7.65pt'>
  <p class=MsoNormal>uint8_t<b> mblockCount</b></p>
  </td>
  <td width=441 valign=top style='width:330.8pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:7.65pt'>
  <p class=MsoNormal>Number of allocated memory blocks for the BLE stack.</p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:7.65pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>Value defined
  by the macro: </p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>BLE_MBLOCKS_CALC
  (PREP_WRITE_LIST_SIZE, MAX_ATT_MTU, NUM_LINKS) + MBLOCK_COUNT_MARGIN)</p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>&nbsp;</p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>With:<br>
  - PREP_WRITE_LIST_SIZE defined by the parameter <b>prWriteListSize</b>.<br>
  - MAX_ATT_MTU defined by the <b>attMtu</b> parameter</p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>- NUM_LINKS
  defined by the <b>numOfLinks</b> parameter<br>
  - MBLOCK_COUNT_MARGIN the memory margin to take.</p>
  </td>
 </tr>
 <tr style='height:7.65pt'>
  <td width=212 valign=top style='width:159.3pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:7.65pt'>
  <p class=MsoNormal>uint16_t<b> attMtu</b></p>
  </td>
  <td width=441 valign=top style='width:330.8pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:7.65pt'>
  <p class=MsoNormal>Maximum ATT MTU size supported. </p>
  <p class=MsoNormal>&nbsp;</p>
  <p class=MsoNormal>&nbsp;</p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:7.65pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>Min value: 23</p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>Max value: 512</p>
  </td>
 </tr>
 <tr style='height:1.45in'>
  <td width=212 valign=top style='width:159.3pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:1.45in'>
  <p class=MsoNormal><span lang=FR>uint16_t<b> max_coc_mps</b></span></p>
  </td>
  <td width=441 valign=top style='width:330.8pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:1.45in'>
  <p class=MsoNormal>Used in APIs in l2cap_coc.c to process with a L2CAP
  connection, send/receive data</p>
  <p class=MsoNormal>Maximum value of the connection-oriented channel Maximum
  Payload Size.</p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:1.45in'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>Min value: 23</p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>Max value: 248</p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>&nbsp;</p>
  </td>
 </tr>
 <tr style='height:92.9pt'>
  <td width=212 valign=top style='width:159.3pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:92.9pt'>
  <p class=MsoNormal><span lang=FR>uint8_t<b> max_coc_nbr</b></span></p>
  </td>
  <td width=441 valign=top style='width:330.8pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:92.9pt'>
  <p class=MsoNormal>Used in APIs in l2cap_coc.c to process with a L2CAP
  connection, send/receive data</p>
  <p class=MsoNormal>Maximum number of connection-oriented channels.</p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:92.9pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>Min value: 0</p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>Max value: 64</p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>&nbsp;</p>
  </td>
 </tr>
 <tr style='height:104.9pt'>
  <td width=212 valign=top style='width:159.3pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:104.9pt'>
  <p class=MsoNormal><span lang=FR>uint8_t<b> max_coc_initiator_nbr</b></span></p>
  </td>
  <td width=441 valign=top style='width:330.8pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:104.9pt'>
  <p class=MsoNormal>Used in APIs in l2cap_coc.c to process with a L2CAP
  connection, send/receive data</p>
  <p class=MsoNormal>Maximum number of connection-oriented channels in
  initiator mode.</p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:104.9pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>Min value:0</p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>Max value: <b><span
  lang=FR>max_coc_nbr</span></b></p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>&nbsp;</p>
  </td>
 </tr>
 <tr style='height:52.2pt'>
  <td width=212 valign=top style='width:159.3pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:52.2pt'>
  <p class=MsoNormal>uint8_t* <b>bleStartRamAddress</b></p>
  </td>
  <td width=441 valign=top style='width:330.8pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:52.2pt'>
  <p class=MsoNormal>Start address of the RAM buffer allocated for BLE stack
  library. It must be a 32bit aligned RAM area.</p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:52.2pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>&nbsp;</p>
  </td>
 </tr>
 <tr style='height:121.15pt'>
  <td width=212 valign=top style='width:159.3pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:121.15pt'>
  <p class=MsoNormal><b>(uint32_t) total_buffer_size</b></p>
  </td>
  <td width=441 valign=top style='width:330.8pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:121.15pt'>
  <p class=MsoNormal>Size of the RAM buffer allocated for BLE stack library.</p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:121.15pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>Value defined by
  the macro: <br>
  BLE_TOTAL_BUFFER_SIZE (NUM_LINKS, MBLOCK_COUNT)</p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>&nbsp;</p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>With </p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>- NUM_LINKS:
  the maximum number of links defined by the parameter <b>numOfLinks</b>.<br>
  - MBLOCK_COUNT: the number of allocated memory blocks, defined by the
  parameter <b>mblockCount</b>.</p>
  </td>
 </tr>
 <tr style='height:52.2pt'>
  <td width=212 valign=top style='width:159.3pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:52.2pt'>
  <p class=MsoNormal>uint8_t*<b> bleStartRamAddress_GATT</b></p>
  </td>
  <td width=441 valign=top style='width:330.8pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:52.2pt'>
  <p class=MsoNormal>Start address of the RAM buffer allocated for GATT
  database. It must be a 32bit aligned RAM area.</p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:52.2pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>&nbsp;</p>
  </td>
 </tr>
 <tr style='height:182.0pt'>
  <td width=212 valign=top style='width:159.3pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:182.0pt'>
  <p class=MsoNormal>uint32_t<b> total_buffer_size_GATT</b></p>
  </td>
  <td width=441 valign=top style='width:330.8pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:182.0pt'>
  <p class=MsoNormal>Size of the RAM buffer allocated for GATT database.</p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:182.0pt'>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>Value defined
  by the macro: <br>
  BLE_TOTAL_BUFFER_SIZE_GATT (NUM_ATTR_RECORD, NUM_ATTR_SERV,
  ATTR_VALUE_ARR_SIZE)</p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>&nbsp;</p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>With </p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>-
  NUM_ATTR_RECORD: defined by the parameter <b>numAttrRecord</b>.<br>
  - NUM_ATTR_SERV: defined by the parameter <b>numAttrServ</b>.</p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>-
  ATTR_VALUE_ARR_SIZE: defined by the parameter <b>attrValueArrSize</b>.</p>
  <p class=MsoNormal style='margin-bottom:0in;line-height:115%'>&nbsp;</p>
  </td>
 </tr>
 <tr style='height:142.7pt'>
  <td width=212 valign=top style='width:159.3pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:142.7pt'>
  <p class=MsoNormal>uint16_t<b> options</b></p>
  </td>
  <td width=441 valign=top style='width:330.8pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:142.7pt'>
  <p class=MsoNormal>Options flags. Definitions for 'options' parameter:</p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:142.7pt'>
  <p class=MsoNormal>BLE_OPTIONS_LL_ONLY = 0x0001U,</p>
  <p class=MsoNormal>BLE_OPTIONS_NO_SVC_CHANGE_DESC = 0x0002U,</p>
  <p class=MsoNormal>BLE_OPTIONS_DEV_NAME_READ_ONLY = 0x0004U,</p>
  <p class=MsoNormal>BLE_OPTIONS_EXTENDED_ADV = 0x0008U,</p>
  <p class=MsoNormal>BLE_OPTIONS_REDUCED_DB_IN_NVM = 0x0020U,</p>
  <p class=MsoNormal>BLE_OPTIONS_GATT_CACHING = 0x0040U,</p>
  <p class=MsoNormal>BLE_OPTIONS_POWER_CLASS_1 = 0x0080U,</p>
  <p class=MsoNormal>BLE_OPTIONS_APPEARANCE_WRITABLE = 0x0100U</p>
  <p class=MsoNormal>BLE_OPTIONS_ENHANCED_ATT = 0x0200U</p>
  </td>
 </tr>
 <tr style='height:20.1pt'>
  <td width=212 valign=top style='width:159.3pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt;height:20.1pt'>
  <p class=MsoNormal>uint32_t<b> debug</b></p>
  </td>
  <td width=441 valign=top style='width:330.8pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt;height:20.1pt'>
  <p class=MsoNormal>Debug flags</p>
  </td>
  <td width=384 valign=top style='width:4.0in;border-top:none;border-left:none;
  border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;padding:0in 5.4pt 0in 5.4pt;
  height:20.1pt'>
  <p class=MsoNormal style='page-break-after:avoid'>BLE_DEBUG_RAND_ADDR_INIT =
  0x00000010UL</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoCaption align=center style='text-align:center'><a
name="_Toc125724452"><span style='font-size:11.0pt'>Table </span></a><span style='font-size:11.0pt'>4</span><span style='font-size:11.0pt'>: BleStack_Init
function's parameters</span></p>

<p class=MsoNormal>Example:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#4EC9B0'>BleStack_init_t</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> pInitParams;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>pInitParams</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>.</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>numAttrRecord</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; = CFG_BLE_NUM_GATT_ATTRIBUTES;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>pInitParams</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>.</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>numAttrServ</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; = CFG_BLE_NUM_GATT_SERVICES;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>pInitParams</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>.</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>attrValueArrSize</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> &nbsp; &nbsp;
&nbsp; &nbsp;= CFG_BLE_ATT_VALUE_ARRAY_SIZE;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>pInitParams</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>.</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>prWriteListSize</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> &nbsp; &nbsp;
&nbsp; &nbsp; = CFG_BLE_ATTR_PREPARE_WRITE_VALUE_SIZE;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>pInitParams</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>.</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>attMtu</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= CFG_BLE_MAX_ATT_MTU;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>pInitParams</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>.</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>max_coc_nbr</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; = CFG_BLE_MAX_COC_NUMBER;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span lang=FR
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>pInitParams</span><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>.</span><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>max_coc_mps</span><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = CFG_BLE_MAX_COC_MPS;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>pInitParams</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>.</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>max_coc_initiator_nbr</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> &nbsp; =
CFG_BLE_MAX_COC_INITIATOR_NBR;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>pInitParams</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>.</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>numOfLinks</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;= CFG_BLE_NUM_LINK;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>pInitParams</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>.</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>mblockCount</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; = CFG_BLE_MBLOCK_COUNT;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>pInitParams</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>.</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>bleStartRamAddress</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> &nbsp; &nbsp;
&nbsp;= (</span><span style='font-size:10.5pt;font-family:Consolas;color:#569CD6'>uint8_t</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>*)buffer;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>pInitParams</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>.</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>total_buffer_size</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> &nbsp; &nbsp;
&nbsp; = BLE_DYN_ALLOC_SIZE;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>pInitParams</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>.</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>bleStartRamAddress_GATT</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> = (</span><span
style='font-size:10.5pt;font-family:Consolas;color:#569CD6'>uint8_t</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>*)gatt_buffer;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>pInitParams</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>.</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>total_buffer_size_GATT</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> &nbsp;=
BLE_GATT_BUF_SIZE;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>pInitParams</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>.</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>debug</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = </span><span
style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>0x10</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>; </span><span
style='font-size:10.5pt;font-family:Consolas;color:#6A9955'>// static random
address generation</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>pInitParams</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>.</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>options</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = </span><span style='font-size:10.5pt;
font-family:Consolas;color:#B5CEA8'>0x0000</span><span style='font-size:10.5pt;
font-family:Consolas;color:#D4D4D4'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>return_status = </span><span
style='font-size:10.5pt;font-family:Consolas;color:#DCDCAA'>BleStack_Init</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>(&amp;pInitParams);</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp;</span></p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc125725171">3.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>BLE stack process</a></h2>

<p class=MsoNormal>The BleStack_Process function runs all Host stack layers
dedicated processes.</p>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=176 valign=top style='width:131.9pt;border:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><a name="_Hlk115251025"><b>Functions</b></a></p>
  </td>
  <td width=96 valign=top style='width:71.95pt;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Parameters</b></p>
  </td>
  <td width=335 valign=top style='width:251.55pt;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Return Value</b></p>
  </td>
 </tr>
 <tr>
  <td width=176 valign=top style='width:131.9pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b><i>BleStack_Process </i></b></p>
  </td>
  <td width=96 valign=top style='width:71.95pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><span
  lang=FR>None</span></p>
  </td>
  <td width=335 valign=top style='width:251.55pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b>BLE_SLEEPMODE_RUNNING</b>
  (0):<br>
  -&gt; BLE Stack Process must be executed</p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%;page-break-after:
  avoid'><b>BLE_SLEEPMODE_CPU_HALT</b> (1):<br>
   -&gt; BLE Stack Process does not have to be                              
  executed.</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoCaption align=center style='text-align:center'><a
name="_Toc125724453"><span style='font-size:11.0pt'>Table </span></a><span style='font-size:11.0pt'>5</span><span style='font-size:11.0pt'>:
BleStack_Process function</span></p>

<p class=MsoNormal>The <b>BleStack_Process</b> function shall be called in the
following conditions:</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:.5in;text-indent:-.25in'>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>This
function shall be called regularly to handle all stack callbacks when needed. If
it returns BLE_SLEEPMODE_RUNNING, it shall be re-called. If it returns
BLE_SLEEPMODE_CPU_HALT, there is no need to call this function again and the
MCU could go to sleep mode.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.5in;text-indent:-.25in'>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
Link Layer has been scheduled.</p>

<p class=MsoListParagraphCxSpLast style='margin-left:.5in;text-indent:-.25in'>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>An
ACI/HCI command, ACL data or ISO data has been sent to the BLE stack (either by
calling <b>BleStack_Request</b> or by direct call to a specific command).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Example:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>return_status = </span><span
style='font-size:10.5pt;font-family:Consolas;color:#DCDCAA'>BleStack_Process</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>();</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#C586C0'>if</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> (return_status ==
BLE_SLEEPMODE_RUNNING)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; </span><span
style='font-size:10.5pt;font-family:Consolas;color:#6A9955'>// BleStack_Process
shall be re-called again</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#C586C0'>else</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; </span><span
style='font-size:10.5pt;font-family:Consolas;color:#6A9955'>// The MCU can go
to sleep mode</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp;</span></p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc125725172">3.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>BLE stack modes</a></h2>

<p class=MsoNormal>We have two ways to send commands and receive events in STs
BLE Stack: Transparent Mode or Direct Call mode.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc125725173">3.3.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Transparent Mode</a> </h3>

<p class=MsoNormal>To use BLE stack in Transparent Mode, a buffer that contains
the ACI/HCI command or ACL data packet shall be passed as parameter to the function
<b>BleStack_Request</b>.</p>

<p class=MsoNormal>The ACI/HCI command will be executed. The response event
(command complete/ command status) is returned in the same buffer, and the size
(in bytes) of the response event is given by the functions return value.</p>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=124 valign=top style='width:93.1pt;border:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Functions</b></p>
  </td>
  <td width=271 valign=top style='width:202.9pt;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Parameters</b></p>
  </td>
  <td width=207 valign=top style='width:154.9pt;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Return Value</b></p>
  </td>
 </tr>
 <tr>
  <td width=124 valign=top style='width:93.1pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b><i>BleStack_Request</i></b></p>
  </td>
  <td width=271 valign=top style='width:202.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>uint8_t*<b>
  buffer</b>&nbsp;[IN/OUT]: <br>
  Buffer of bytes in the BLE standard format HCI/ACI command packet or ACL data
  packet. The response packet is returned in the same buffer and the size (in
  bytes) of the response is given by the functions return value.</p>
  </td>
  <td width=207 valign=top style='width:154.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%;page-break-after:
  avoid'>The size (uint16_t) of the response packet returned in the buffer
  parameter.</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoCaption align=center style='text-align:center'><a
name="_Toc125724454"><span style='font-size:11.0pt'>Table </span></a><span style='font-size:11.0pt'>6</span><span style='font-size:11.0pt'>:
BleStack_Request function</span></p>

<p class=MsoNormal>Example:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E;text-autospace:ideograph-other'><a
name="_Hlk124344294"><span style='font-size:10.5pt;font-family:Consolas;
color:#6A9955'>// It is recommended to initiate the buffer at maximum length
that BLE Stack supports</span></a></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E;text-autospace:ideograph-other'><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#569CD6'>uint8_t</span><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> </span><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>reset_cmd</span><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>[</span><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>255</span><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>] = {</span><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>0x01</span><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>, </span><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>0x03</span><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>, </span><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>0x0C</span><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>, </span><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>0x00</span><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>};</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E;text-autospace:ideograph-other'><span
style='font-size:10.5pt;font-family:Consolas;color:#6A9955'>// BLE Stack will
execute Reset command, the Command Complete Event will be return in //
reset_cmd array, </span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E;text-autospace:ideograph-other'><span
style='font-size:10.5pt;font-family:Consolas;color:#6A9955'>the total length of
event is returned in event_length.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E;text-autospace:ideograph-other'><span
style='font-size:10.5pt;font-family:Consolas;color:#569CD6'>uint16_t</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> event_length = </span><span
style='font-size:10.5pt;font-family:Consolas;color:#DCDCAA'>BleStack_Request</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>(reset_cmd);</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E;text-autospace:ideograph-other'><span
style='font-size:10.5pt;font-family:Consolas;color:#6A9955'>// The response
packet will be in BLE standard format.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E;text-autospace:ideograph-other'><span
style='font-size:10.5pt;font-family:Consolas;color:#569CD6'>uint8_t</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> cmd_status = </span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>reset_cmd</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>[</span><span
style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>6</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>];</span></p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc125725174">3.3.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Direct mode for commands and data sending</a></h3>

<p class=MsoNormal>Instead of calling <b><i>BleStack_Request </i></b>as in
transparent mode, the ACI/HCI commands can be called by using dedicated
functions for each command.</p>

<p class=MsoNormal>Please refer to the document STM32WBA_BLE_Wireless_Interface.html</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The HCI commands functions can be found in include/auto/ble_hci_le.h
file.</p>

<p class=MsoNormal>The ACI commands for GAP functions can be found in include
/auto/ble_gap_le.h file.</p>

<p class=MsoNormal>The ACI commands for GATT functions can be found in include
/auto/ble_gatt_le.h file.</p>

<p class=MsoNormal>The ACI commands for HAL functions can be found in include
/auto/ble_hal_aci.h file.</p>

<p class=MsoNormal>The ACI commands for L2CAP functions can be found in include
/auto/ble_l2cap_le.h file.</p>

<p class=MsoNormal>Example: </p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#6A9955'>// Send HCI Reset
command</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>tBleStatus
reset_status = </span><span style='font-size:10.5pt;font-family:Consolas;
color:#DCDCAA'>hci_reset</span><span style='font-size:10.5pt;font-family:Consolas;
color:#D4D4D4'>();</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#6A9955'>// Send ACI GATT
delete include service command</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#569CD6'>uint16_t</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> Serv_Handle = </span><span
style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>0x2456</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#569CD6'>uint16_t</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> Include_Handle = </span><span
style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>0x8795</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>tBleStatus
gatt_status = &nbsp;</span><span style='font-size:10.5pt;font-family:Consolas;
color:#DCDCAA'>aci_gatt_del_include_service</span><span style='font-size:10.5pt;
font-family:Consolas;color:#D4D4D4'>(Serv_Handle, Include_Handle);</span></p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc125725175">3.3.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>BLE Asynchronous ACI/HCI events and data reception</a></h3>

<p class=MsoNormal>To handle ACI/HCI events in its application, the user can
choose between two different methods:</p>

<p class=MsoNormal>1- Use event callbacks framework (via dedicated event
callback)</p>

<p class=MsoNormal>2- Use nested &quot;switch case&quot; event handler (via the
<b>BLECB_Indication </b>callback)</p>

<p class=MsoNormal>Based on its own application scenario, the user should
identify the required BLE events to be detected and handled and the application
s specific actions as a response to such events. </p>

<p class=MsoNormal>When implementing a BLE application, the most common and
widely used BLE events are the ones related to the discovery, connection,
terminate procedures, services and characteristics discovery procedures, attribute
modified events on a GATT server and attribute notification/ indication events
on a GATT client.<br>
<br>
</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:.25in;text-indent:-.25in;
display:none'><b><span style='display:none'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><b><span style='display:none'>&nbsp;</span></b></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
display:none'><b><span style='display:none'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><b><span style='display:none'>&nbsp;</span></b></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.25in;text-indent:-.25in;
display:none'><b><span style='display:none'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><b><span style='display:none'>&nbsp;</span></b></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.55in;text-indent:-.3in;
display:none'><b><span style='display:none'>3.1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><b><span style='display:none'>&nbsp;</span></b></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.55in;text-indent:-.3in;
display:none'><b><span style='display:none'>3.2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><b><span style='display:none'>&nbsp;</span></b></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.55in;text-indent:-.3in;
display:none'><b><span style='display:none'>3.3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><b><span style='display:none'>&nbsp;</span></b></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.85in;text-indent:-.35in;
display:none'><b><span style='display:none'>3.3.1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><b><span style='display:none'>&nbsp;</span></b></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.85in;text-indent:-.35in;
display:none'><b><span style='display:none'>3.3.2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><b><span style='display:none'>&nbsp;</span></b></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.85in;text-indent:-.35in;
display:none'><b><span style='display:none'>3.3.3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></b><b><span style='display:none'>&nbsp;</span></b></p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.25in;text-indent:-1.25in'><b>3.3.3.1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></b><b>ACI/HCI dedicated events callbacks</b></p>

<p class=MsoNormal>There is one callback per event. All callback functions can
be found in include/auto/ble_events.h file. </p>

<p class=MsoNormal>If an event is handled in its dedicated callback, the event
cannot be handled in the <b>BLECB_Indication </b>callback anymore. </p>

<p class=MsoNormal>Example:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#569CD6'>tBleStatus</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> </span><span
style='font-size:10.5pt;font-family:Consolas;color:#DCDCAA'>hci_disconnection_complete_event</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>(</span><span
style='font-size:10.5pt;font-family:Consolas;color:#569CD6'>uint8_t</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> </span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>Status</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp;             &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span
style='font-size:10.5pt;font-family:Consolas;color:#569CD6'>uint16_t</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> </span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>Connection_Handle</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;       &nbsp; &nbsp; &nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style='font-size:
10.5pt;font-family:Consolas;color:#569CD6'>uint8_t</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> </span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>Reason</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; </span><span
style='font-size:10.5pt;font-family:Consolas;color:#6A9955'>// TODO: what will
we do when device is disconnected.</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>}</span></p>

<p class=MsoNormal><b>&nbsp;</b></p>

<p class=MsoListParagraph style='margin-left:1.25in;text-indent:-1.25in'><b>3.3.3.2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></b><b>BLECB_Indication callback</b></p>

<p class=MsoNormal>All events which are not handled in their dedicated callback
must be handled in the <b>BLECB_Indication</b> callback.</p>

<p class=MsoNormal>This function will be called by the BLE Stack with the
following parameters:</p>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=124 valign=top style='width:93.1pt;border:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Functions</b></p>
  </td>
  <td width=271 valign=top style='width:202.9pt;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Parameters</b></p>
  </td>
  <td width=207 valign=top style='width:154.9pt;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Return Value</b></p>
  </td>
 </tr>
 <tr>
  <td width=124 valign=top style='width:93.1pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b><i>BLECB_Indication</i></b></p>
  </td>
  <td width=271 valign=top style='width:202.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>- const
  uint8_t* <b>data</b>: The data buffer</p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>- uint16_t<b>
  length</b>: The length of the data buffer</p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>- const
  uint8_t* <b>ext_data</b>: The extended data buffer. This buffer is used only
  for ISO data and ACL data events</p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>- uint16_t <b>ext_length</b>:
  The length of the extended data buffer</p>
  </td>
  <td width=207 valign=top style='width:154.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%;page-break-after:
  avoid'><b>uint8_t</b>: Up to the user to define the return values</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoCaption align=center style='text-align:center'><a
name="_Toc125724455"><span style='font-size:11.0pt'>Table </span></a><span style='font-size:11.0pt'>7</span><span style='font-size:11.0pt'>:
BLECB_Indication function</span></p>

<p class=MsoNormal>Example:</p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#569CD6'>uint8_t</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> </span><span
style='font-size:10.5pt;font-family:Consolas;color:#DCDCAA'>BLECB_Indication</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>(</span><span
style='font-size:10.5pt;font-family:Consolas;color:#569CD6'>const</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> </span><span
style='font-size:10.5pt;font-family:Consolas;color:#569CD6'>uint8_t</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>* </span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>data</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>, </span><span
style='font-size:10.5pt;font-family:Consolas;color:#569CD6'>uint16_t</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> </span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>length</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span
style='font-size:10.5pt;font-family:Consolas;color:#569CD6'>const</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> </span><span
style='font-size:10.5pt;font-family:Consolas;color:#569CD6'>uint8_t</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>* </span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>ext_data</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>, </span><span
style='font-size:10.5pt;font-family:Consolas;color:#569CD6'>uint16_t</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> </span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>ext_length</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span lang=FR
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span lang=FR
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; </span><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#C586C0'>if</span><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> (</span><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>data</span><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>[</span><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>0</span><span
lang=FR style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>] == HCI_LE_META_EVT_CODE)</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span lang=FR
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; </span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>{</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp; </span><span
style='font-size:10.5pt;font-family:Consolas;color:#6A9955'>// Check the
subevent_code and the paramater length</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp; </span><span
style='font-size:10.5pt;font-family:Consolas;color:#C586C0'>if</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> ((</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>data</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>[</span><span
style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>2</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>] ==
HCI_LE_CONNECTION_COMPLETE_SUBEVT_CODE) &amp;&amp; (</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>data</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>[</span><span
style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>1</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>] == </span><span
style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>0x13</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>))</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp; {</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp;
&nbsp; &nbsp; hci_le_connection_complete_event_rp0 *p_conn_complete;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp;
&nbsp; &nbsp; p_conn_complete = (hci_le_connection_complete_event_rp0 *) (data
+ </span><span style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>3</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>);</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:10.5pt;font-family:Consolas;
color:#DCDCAA'>printf</span><span style='font-size:10.5pt;font-family:Consolas;
color:#D4D4D4'>(</span><span style='font-size:10.5pt;font-family:Consolas;
color:#CE9178'>&quot;Connection DONE - Connection handle: 0x</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>%04X</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D7BA7D'>\n</span><span
style='font-size:10.5pt;font-family:Consolas;color:#CE9178'>&quot;</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>, </span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>p_conn_complete</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>-&gt;</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>Connection_Handle</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>);</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:10.5pt;font-family:Consolas;
color:#DCDCAA'>printf</span><span style='font-size:10.5pt;font-family:Consolas;
color:#D4D4D4'>(</span><span style='font-size:10.5pt;font-family:Consolas;
color:#CE9178'>&quot;Connection established with @:</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>%02x</span><span
style='font-size:10.5pt;font-family:Consolas;color:#CE9178'>:</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>%02x</span><span
style='font-size:10.5pt;font-family:Consolas;color:#CE9178'>:</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>%02x</span><span
style='font-size:10.5pt;font-family:Consolas;color:#CE9178'>:</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>%02x</span><span
style='font-size:10.5pt;font-family:Consolas;color:#CE9178'>:</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>%02x</span><span
style='font-size:10.5pt;font-family:Consolas;color:#CE9178'>:</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>%02x</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D7BA7D'>\n</span><span
style='font-size:10.5pt;font-family:Consolas;color:#CE9178'>&quot;</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style='font-size:10.5pt;
font-family:Consolas;color:#9CDCFE'>p_conn_complete</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>-&gt;</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>Peer_Address</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>[</span><span
style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>5</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>],</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style='font-size:10.5pt;
font-family:Consolas;color:#9CDCFE'>p_conn_complete</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>-&gt;</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>Peer_Address</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>[</span><span
style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>4</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>],</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style='font-size:10.5pt;
font-family:Consolas;color:#9CDCFE'>p_conn_complete</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>-&gt;</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>Peer_Address</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>[</span><span
style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>3</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>],</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style='font-size:10.5pt;
font-family:Consolas;color:#9CDCFE'>p_conn_complete</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>-&gt;</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>Peer_Address</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>[</span><span
style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>2</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>],</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style='font-size:10.5pt;
font-family:Consolas;color:#9CDCFE'>p_conn_complete</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>-&gt;</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>Peer_Address</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>[</span><span
style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>1</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>],</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style='font-size:10.5pt;
font-family:Consolas;color:#9CDCFE'>p_conn_complete</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>-&gt;</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>Peer_Address</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>[</span><span
style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>0</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>]</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp;
&nbsp; &nbsp; </span><span style='font-size:10.5pt;font-family:Consolas;
color:#DCDCAA'>printf</span><span style='font-size:10.5pt;font-family:Consolas;
color:#D4D4D4'>(</span><span style='font-size:10.5pt;font-family:Consolas;
color:#CE9178'>&quot;Connection parameters:</span><span style='font-size:10.5pt;
font-family:Consolas;color:#D7BA7D'>\n</span><span style='font-size:10.5pt;
font-family:Consolas;color:#CE9178'>- Connection Interval: </span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>%.2f</span><span
style='font-size:10.5pt;font-family:Consolas;color:#CE9178'> ms</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D7BA7D'>\n</span><span
style='font-size:10.5pt;font-family:Consolas;color:#CE9178'>- Connection
latency: </span><span style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>%d</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D7BA7D'>\n</span><span
style='font-size:10.5pt;font-family:Consolas;color:#CE9178'>- Supervision
Timeout: </span><span style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>%d</span><span
style='font-size:10.5pt;font-family:Consolas;color:#CE9178'> ms</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D7BA7D'>\n</span><span
style='font-size:10.5pt;font-family:Consolas;color:#CE9178'>&quot;</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style='font-size:10.5pt;
font-family:Consolas;color:#9CDCFE'>p_conn_complete</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>-&gt;</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>Conn_Interval</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> * </span><span
style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>1.25</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style='font-size:10.5pt;
font-family:Consolas;color:#9CDCFE'>p_conn_complete</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>-&gt;</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>Conn_Latency</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>,</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span><span style='font-size:10.5pt;
font-family:Consolas;color:#9CDCFE'>p_conn_complete</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>-&gt;</span><span
style='font-size:10.5pt;font-family:Consolas;color:#9CDCFE'>Supervision_Timeout</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> * </span><span
style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>10</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp;
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; );</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; &nbsp; }</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; }</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>&nbsp; </span><span
style='font-size:10.5pt;font-family:Consolas;color:#C586C0'>return</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'> </span><span
style='font-size:10.5pt;font-family:Consolas;color:#B5CEA8'>0</span><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>;</span></p>

<p class=MsoNormal style='margin-top:0in;margin-right:255.75pt;margin-bottom:
0in;margin-left:0in;line-height:14.25pt;background:#1E1E1E'><span
style='font-size:10.5pt;font-family:Consolas;color:#D4D4D4'>}</span></p>

<h1><a name="_Toc125725176">4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>BLE stack porting</a></h1>

<p class=MsoNormal>The BLE stack uses some generic HW features but lets the
application define them by using HW drivers or emulating some of them by SW
code.</p>

<p class=MsoNormal>All the required porting interfaces by the BLE stack are
defined in the bleplat.h</p>

<p class=MsoNormal>The following features are used and need to be implemented on
the application side:</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:.5in;text-indent:-.25in'>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>NVM:
Non-Volatile Memory used by the security database of the BLE stack.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.5in;text-indent:-.25in'>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Timer:
used by several components of the BLE stack.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.5in;text-indent:-.25in'>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>AES:
Advanced Encryption Standard used by the security manager layer of the BLE
stack.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.5in;text-indent:-.25in'>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>PKA:
Public Key Accelerator used by the controller in the BLE stack.</p>

<p class=MsoListParagraphCxSpLast style='margin-left:.5in;text-indent:-.25in'>-<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>RNG:
Random Number Generation used by the controller in the BLE stack.</p>

<h2><a name="_Toc125725177"></a><a name="_BLE_platform_initialization"></a>4.1<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>BLE platform initialization</h2>

<p class=MsoNormal>&nbsp;</p>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=184 valign=top style='width:138.35pt;border:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Functions</b></p>
  </td>
  <td width=184 valign=top style='width:138.35pt;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Parameters</b></p>
  </td>
  <td width=232 valign=top style='width:174.2pt;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Return Value</b></p>
  </td>
 </tr>
 <tr>
  <td width=184 valign=top style='width:138.35pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b><i>BLEPLAT_Init</i></b></p>
  </td>
  <td width=184 valign=top style='width:138.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><span
  lang=FR>None</span></p>
  </td>
  <td width=232 valign=top style='width:174.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%;page-break-after:
  avoid'>None</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoCaption align=center style='text-align:center'><a
name="_Toc125724456"><span style='font-size:11.0pt'>Table </span></a><span style='font-size:11.0pt'>8</span><span style='font-size:11.0pt'>: BLEPLAT_Init
function</span></p>

<p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>This function
is called by the BLE stack when it is initialized or reset (via hci_reset). The
user shall call here the functions to reset the Timer, AES, PKA, NVM and RNG
needed for the BLE stack.</p>

<p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>The user must implement
the functions mentioned below that are called by the BLE stack at runtime.</p>

<h2><a name="_Toc125725178"></a><a name="_BLE_platform_functions"></a>4.2<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>BLE platform functions</h2>

<p class=MsoNormal>All the BLEPLAT functions are called from the BLE stack
process or commands. Those functions shall return one of the following status
values:</p>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=184 valign=top style='width:138.35pt;border:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Status</b></p>
  </td>
  <td width=184 valign=top style='width:138.35pt;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Value</b></p>
  </td>
  <td width=232 valign=top style='width:174.2pt;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Description</b></p>
  </td>
 </tr>
 <tr>
  <td width=184 valign=top style='width:138.35pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b>BLEPLAT_OK</b></p>
  </td>
  <td width=184 valign=top style='width:138.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>  0</p>
  </td>
  <td width=232 valign=top style='width:174.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>The function
  did the job and returns an OK status</p>
  </td>
 </tr>
 <tr>
  <td width=184 valign=top style='width:138.35pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b>BLEPLAT_FULL</b></p>
  </td>
  <td width=184 valign=top style='width:138.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'> -1</p>
  </td>
  <td width=232 valign=top style='width:174.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>The function
  exits because the HW resource is full</p>
  </td>
 </tr>
 <tr>
  <td width=184 valign=top style='width:138.35pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b>BLEPLAT_BUSY</b></p>
  </td>
  <td width=184 valign=top style='width:138.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'> -2</p>
  </td>
  <td width=232 valign=top style='width:174.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>The function
  is busy and is not available for the requested operation</p>
  </td>
 </tr>
 <tr>
  <td width=184 valign=top style='width:138.35pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b>BLEPLAT_EOF</b></p>
  </td>
  <td width=184 valign=top style='width:138.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'> -3</p>
  </td>
  <td width=232 valign=top style='width:174.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>The function
  exits and notifies the HW resource (memory for example) reached the end.</p>
  </td>
 </tr>
 <tr>
  <td width=184 valign=top style='width:138.35pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b>BLEPLAT_WARN</b></p>
  </td>
  <td width=184 valign=top style='width:138.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'> -4</p>
  </td>
  <td width=232 valign=top style='width:174.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>The function
  runs the asked operation and notifies that the HW resource is near to be full</p>
  </td>
 </tr>
 <tr>
  <td width=184 valign=top style='width:138.35pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b>BLEPLAT_ERROR</b></p>
  </td>
  <td width=184 valign=top style='width:138.35pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'> -5</p>
  </td>
  <td width=232 valign=top style='width:174.2pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%;page-break-after:
  avoid'>The function exits due to some issue (memory corruption or buffer
  overflow for example)</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoCaption align=center style='text-align:center'><a
name="_Toc125724457"><span style='font-size:11.0pt'>Table </span></a><span style='font-size:11.0pt'>9</span><span style='font-size:11.0pt'>: BLEPLAT
functions' returns</span></p>

<h3><a name="_Toc125725179">4.2.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>NVM functions</a></h3>

<p class=MsoNormal>The NVM functions are used to store security database information
(security and GATT records) in the NVM, read from the NVM, compare data with
the stored data in the NVM and clear the security database or some of it.</p>

<p class=MsoNormal>&nbsp;</p>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=190 valign=top style='width:142.85pt;border:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Functions</b></p>
  </td>
  <td width=379 valign=top style='width:3.95in;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Parameters</b></p>
  </td>
  <td width=196 valign=top style='width:146.9pt;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Return Value</b></p>
  </td>
 </tr>
 <tr>
  <td width=190 valign=top style='width:142.85pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b><i>BLEPLAT_NvmAdd:</i></b></p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>Store data
  in the NVM</p>
  </td>
  <td width=379 valign=top style='width:3.95in;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpFirst style='margin-top:0in;margin-right:0in;
  margin-bottom:10.0pt;margin-left:12.8pt;text-indent:-9.0pt;line-height:115%'>-<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>uint8_t <b>type</b>:
  The type of data to be stored either security data (BLEPLAT_NVM_TYPE_SEC) or GATT
  data (BLEPLAT_NVM_TYPE_GATT)</p>
  <p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
  margin-bottom:10.0pt;margin-left:12.8pt;text-indent:-9.0pt;line-height:115%'>-<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>const uint8_t* <b>data</b>:
  The data buffer to be stored</p>
  <p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
  margin-bottom:10.0pt;margin-left:12.8pt;text-indent:-9.0pt;line-height:115%'>-<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>uint16_t <b>size</b>:
  The size of data to be stored</p>
  <p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
  margin-bottom:10.0pt;margin-left:12.8pt;text-indent:-9.0pt;line-height:115%'>-<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>const uint8_t* <b>extra_data</b>:
  If there is extra data to be stored too. If not, this parameter shall be
  passed with NULL value</p>
  <p class=MsoListParagraphCxSpLast style='margin-top:0in;margin-right:0in;
  margin-bottom:10.0pt;margin-left:12.8pt;text-indent:-9.0pt;line-height:115%'>-<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>uint16_t <b>extra_size</b>:
  The size of extra data</p>
  </td>
  <td width=196 valign=top style='width:146.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>int: One of
  the return values explained in the section 4.2</p>
  </td>
 </tr>
 <tr>
  <td width=190 valign=top style='width:142.85pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b><i>BLEPLAT_NvmGet:</i></b></p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>Read data
  from the NVM</p>
  </td>
  <td width=379 valign=top style='width:3.95in;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpFirst style='margin-top:0in;margin-right:0in;
  margin-bottom:10.0pt;margin-left:12.8pt;text-indent:-9.0pt;line-height:115%'>-<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>uint8_t <b>mode</b>:
  The mode of NVM reading:</p>
  <p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
  margin-bottom:10.0pt;margin-left:1.0in;text-indent:-.25in;line-height:115%'><span
  style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span>BLEPLAT_NVM_FIRST<br>
  used to read the first record of NVM</p>
  <p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
  margin-bottom:10.0pt;margin-left:1.0in;text-indent:-.25in;line-height:115%'><span
  style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span>BLEPLAT_NVM_NEXT<br>
  used to read the next record (after a previous call to BLEPLAT_NvmGet)</p>
  <p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
  margin-bottom:10.0pt;margin-left:1.0in;text-indent:-.25in;line-height:115%'><span
  style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
  </span></span>BLEPLAT_NVM_CURRENT <br>
  used to read the same record again (after a previous call to BLEPLAT_NvmGet)</p>
  <p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
  margin-bottom:10.0pt;margin-left:12.8pt;text-indent:-9.0pt;line-height:115%'>-<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>uint8_t <b>type</b>:
  The type of data to be read, either security data (BLEPLAT_NVM_TYPE_SEC) or
  GATT data (BLEPLAT_NVM_TYPE_GATT)</p>
  <p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
  margin-bottom:10.0pt;margin-left:12.8pt;text-indent:-9.0pt;line-height:115%'>-<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>uint16_t <b>offset</b>:
  The offset from which the NVM starts the read an operation.</p>
  <p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
  margin-bottom:10.0pt;margin-left:12.8pt;text-indent:-9.0pt;line-height:115%'>-<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>uint8_t* <b>data</b>:
  The pointer to data read by the function</p>
  <p class=MsoListParagraphCxSpLast style='margin-top:0in;margin-right:0in;
  margin-bottom:10.0pt;margin-left:12.8pt;text-indent:-9.0pt;line-height:115%'>-<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>uint16_t <b>size</b>:
  The size of data to be read</p>
  </td>
  <td width=196 valign=top style='width:146.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>int: One of
  the return values explained in the section 4.2</p>
  </td>
 </tr>
 <tr>
  <td width=190 valign=top style='width:142.85pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b><i>BLEPLAT_NvmCompare:</i></b></p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>Compare
  passed data as parameter with data stored in the NVM</p>
  </td>
  <td width=379 valign=top style='width:3.95in;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraphCxSpFirst style='margin-top:0in;margin-right:0in;
  margin-bottom:10.0pt;margin-left:12.8pt;text-indent:-9.0pt;line-height:115%'>-<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>uint16_t <b>offset</b>:
  The offset from which the NVM starts the comparison </p>
  <p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
  margin-bottom:10.0pt;margin-left:12.8pt;text-indent:-9.0pt;line-height:115%'>-<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>const uint8_t* <b>data</b>:
  The data to be compared with stored data in the NVM</p>
  <p class=MsoListParagraphCxSpLast style='margin-top:0in;margin-right:0in;
  margin-bottom:10.0pt;margin-left:12.8pt;text-indent:-9.0pt;line-height:115%'>-<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>uint16_t <b>size</b>:
  The size of data to be compared</p>
  </td>
  <td width=196 valign=top style='width:146.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>int: One of
  the return values explained in the section 4.2</p>
  </td>
 </tr>
 <tr>
  <td width=190 valign=top style='width:142.85pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b><i>BLEPLAT_NvmDiscard:</i></b></p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>Clear a
  block from the NVM or the whole NVM, storing the security database (security
  and GATT records)</p>
  </td>
  <td width=379 valign=top style='width:3.95in;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoListParagraph style='margin-top:0in;margin-right:0in;margin-bottom:
  10.0pt;margin-left:12.8pt;text-indent:-9.0pt;line-height:115%'>-<span
  style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>uint8_t <b>mode</b>:
  Mode of deleting data from the NVM, either clear all the security database
  (BLEPLAT_NVM_ALL) or the current read NVM block (BLEPLAT_NVM_CURRENT)</p>
  </td>
  <td width=196 valign=top style='width:146.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%;page-break-after:
  avoid'><span lang=FR>None</span></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoCaption align=center style='text-align:center'><a
name="_Toc125724458"><span style='font-size:11.0pt'>Table </span></a><span style='font-size:11.0pt'>10</span><span style='font-size:11.0pt'>: BLEPLAT NVM
functions</span></p>

<h3><a name="_Toc125725180">4.2.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Timer functions</a></h3>

<p class=MsoNormal>The timer functions are used by the BLE stack to handle all
procedures which are time dependent.</p>

<p class=MsoNormal>The timer should have an accuracy of 1 ms and it is
recommended to be able to count up to 24 hours.</p>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=168 valign=top style='width:126.35pt;border:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Function</b></p>
  </td>
  <td width=318 valign=top style='width:238.5pt;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Parameters</b></p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Return Value</b></p>
  </td>
 </tr>
 <tr>
  <td width=168 valign=top style='width:126.35pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b><i>BLEPLAT_TimerStart:</i></b></p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>Start the Timer</p>
  </td>
  <td width=318 valign=top style='width:238.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>uint8_t <b>layer</b>:
  The timer ID to be started</p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>uint32_t <b>timeout</b>:
  The timeout needed to stop the timer (in ms)</p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>int: One of
  the return values explained in the section 4.2</p>
  </td>
 </tr>
 <tr>
  <td width=168 valign=top style='width:126.35pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b><i>BLEPLAT_TimerStop:</i></b></p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>Stop the
  Timer</p>
  </td>
  <td width=318 valign=top style='width:238.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>uint8_t <b>layer</b>:
  The timer ID to be stopped</p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><span
  lang=FR>None</span></p>
  </td>
 </tr>
 <tr>
  <td width=168 valign=top style='width:126.35pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b><i>BLEPLATCB_TimerExpiry:</i></b></p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>The timer
  callback function called when the timeout of a given timer has elapsed</p>
  </td>
  <td width=318 valign=top style='width:238.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>uint8_t <b>layer</b>:
  The timer ID </p>
  </td>
  <td width=126 valign=top style='width:94.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%;page-break-after:
  avoid'><span lang=FR>None</span></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoCaption align=center style='text-align:center'><a
name="_Toc125724459"><span style='font-size:11.0pt'>Table </span></a><span style='font-size:11.0pt'>11</span><span style='font-size:11.0pt'>: BLEPLAT Timer
functions</span></p>

<h3><a name="_Toc125725181">4.2.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>AES functions</a></h3>

<p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>The AES
functions are used by the BLE stack to encrypt a 128-bit single block or to
compute CMAC which is needed by BLE security manager.</p>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=226 valign=top style='width:2.35in;border:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Function</b></p>
  </td>
  <td width=404 valign=top style='width:303.05pt;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Parameters</b></p>
  </td>
  <td width=123 valign=top style='width:92.3pt;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Return Value</b></p>
  </td>
 </tr>
 <tr>
  <td width=226 valign=top style='width:2.35in;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b><i>BLEPLAT_AesEcbEncrypt:</i></b></p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>Encrypt a
  single 128-bit block with a 128-bit key</p>
  </td>
  <td width=404 valign=top style='width:303.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>const uint8_t*
  <b>key</b>: table of 16 bytes that contains the key to use (Little Endian
  format)</p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>const uint8_t*
  <b>input</b>: table of 16 bytes that contains the block to encrypt</p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>uint8_t* <b>output</b>:
  table of 16 bytes that is filled by the function with the encrypted block</p>
  </td>
  <td width=123 valign=top style='width:92.3pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><span
  lang=FR>None</span></p>
  </td>
 </tr>
 <tr>
  <td width=226 valign=top style='width:2.35in;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b><i>BLEPLAT_AesCmacSetKey:</i></b></p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>Set the
  128-bit key to be used for CMAC computation</p>
  </td>
  <td width=404 valign=top style='width:303.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>const
  uint8_t* <b>key</b>: table of 16 bytes that contains the key to use (Little
  Endian format)</p>
  </td>
  <td width=123 valign=top style='width:92.3pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><span
  lang=FR>None</span></p>
  </td>
 </tr>
 <tr>
  <td width=226 valign=top style='width:2.35in;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b><i>BLEPLAT_AesCmacCompute:</i></b></p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>CMAC
  computation: the function can be called several times with output_tag set to
  0 to append data to the computation. It must be called once at the end with
  output_tag not set at 0 to complete the CMAC computation.</p>
  </td>
  <td width=404 valign=top style='width:303.05pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>const
  uint8_t* <b>input</b>: table of input_length bytes that contains the data
  to append for the CMAC computation</p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>uint32_t <b>input_length</b>:
  number of bytes in input.</p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>uint8_t* <b>output_tag</b>:
  must be set to 0 for append. Otherwise: table of 16 bytes that is filled by
  the function with the computed CMAC tag.</p>
  </td>
  <td width=123 valign=top style='width:92.3pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%;page-break-after:
  avoid'><span lang=FR>None</span></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoCaption align=center style='text-align:center'><a
name="_Toc125724460"><span style='font-size:11.0pt'>Table </span></a><span style='font-size:11.0pt'>12</span><span style='font-size:11.0pt'>: BLE PLAT AES functions</span></p>

<h3><a name="_Toc125725182">4.2.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>PKA functions</a></h3>

<p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>The PKA
functions are used by the BLE stack to compute the P-256 public key and the DH
key used for BLE secure connections. </p>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=218 valign=top style='width:163.85pt;border:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-top:0in;margin-right:0in;
  margin-bottom:10.0pt;margin-left:-5.45pt;text-align:center;line-height:115%'><b>Function</b></p>
  </td>
  <td width=294 valign=top style='width:220.3pt;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Parameters</b></p>
  </td>
  <td width=204 valign=top style='width:153.0pt;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='margin-bottom:10.0pt;text-align:center;
  line-height:115%'><b>Return Value</b></p>
  </td>
 </tr>
 <tr>
  <td width=218 valign=top style='width:163.85pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b><i>BLEPLAT_PkaStartP256Key:</i></b></p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>Start P-256
  public key generation</p>
  </td>
  <td width=294 valign=top style='width:220.3pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>const uint32_t*
  <b>local_private_key</b>: table of 8 x 32-bit words that contains the P-256
  private key (Little Endian format)</p>
  </td>
  <td width=204 valign=top style='width:153.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>int: One of
  the return values explained in the section 4.2</p>
  </td>
 </tr>
 <tr>
  <td width=218 valign=top style='width:163.85pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b><i>BLEPLAT_PkaReadP256Key:</i></b></p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>Get result
  of P-256 public key generation</p>
  </td>
  <td width=294 valign=top style='width:220.3pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>uint32_t* <b>local_public_key</b>:
  table of 32 x 32-bit words that is filled by the function with the generated
  P-256 public key (Little Endian format)</p>
  </td>
  <td width=204 valign=top style='width:153.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>int: One of
  the return values explained in the section 4.2</p>
  </td>
 </tr>
 <tr>
  <td width=218 valign=top style='width:163.85pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b><i>BLEPLAT_PkaStartDhKey:</i></b></p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>Start DH key
  computation</p>
  </td>
  <td width=294 valign=top style='width:220.3pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>const
  uint32_t* <b>local_private_key</b>: table of 8 x 32-bit words that contains
  the local P-256 private key (Little Endian format)</p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>const
  uint32_t* <b>remote_public_key</b>: table of 32 x 32-bit words that contains
  the remote P-256 public key (Little Endian format)</p>
  </td>
  <td width=204 valign=top style='width:153.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>int: One of
  the return values explained in the section 4.2</p>
  </td>
 </tr>
 <tr>
  <td width=218 valign=top style='width:163.85pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b><i>BLEPLAT_PkaReadDhKey:</i></b></p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>Get result
  of DH key computation </p>
  </td>
  <td width=294 valign=top style='width:220.3pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>uint32_t* <b>dh_key</b>:
  table of 8 x 32-bit words that is filled by the function with the generated
  DH key (Little Endian format)</p>
  </td>
  <td width=204 valign=top style='width:153.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>int: One of
  the return values explained in the section 4.2</p>
  </td>
 </tr>
 <tr>
  <td width=218 valign=top style='width:163.85pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b><i>BLEPLATCB_PkaComplete:</i></b></p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>Callback
  function implemented by the BLE stack that must be called by the user to
  inform the BLE stack about completion of P-256 public key generation or DH
  key computation</p>
  </td>
  <td width=294 valign=top style='width:220.3pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><span
  lang=FR>None</span></p>
  </td>
  <td width=204 valign=top style='width:153.0pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%;page-break-after:
  avoid'>int: One of the return values explained in the section 4.2</p>
  </td>
 </tr>
</table>

</div>

<p class=MsoCaption align=center style='text-align:center'><a
name="_Toc125724461"><span style='font-size:11.0pt'>Table </span></a><span style='font-size:11.0pt'>13</span><span style='font-size:11.0pt'>: BLEPLAT PKA
functions</span></p>

<h3><a name="_Toc125725183">4.2.5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>RNG functions</a></h3>

<p class=MsoNormal>This function is called by the BLE stack to retrieve n x 32*bit
words of random values.</p>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=184 valign=top style='width:138.35pt;border:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>Function</p>
  </td>
  <td width=337 valign=top style='width:252.9pt;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>Parameters</p>
  </td>
  <td width=150 valign=top style='width:112.5pt;border:solid black 1.0pt;
  border-left:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>Return Value</p>
  </td>
 </tr>
 <tr>
  <td width=184 valign=top style='width:138.35pt;border:solid black 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><b><i>BLEPLAT_RngGet:</i></b></p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>Get random
  values.</p>
  </td>
  <td width=337 valign=top style='width:252.9pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>uint8_t <b>n</b>:
  number of 32-bit words to read.</p>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'>uint32_t* <b>val</b>:
  pointer to a 32-bit table of size n that are filled with random values by
  the function. </p>
  </td>
  <td width=150 valign=top style='width:112.5pt;border-top:none;border-left:
  none;border-bottom:solid black 1.0pt;border-right:solid black 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%;page-break-after:
  avoid'><span lang=FR>None</span></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoCaption align=center style='text-align:center'><a
name="_Toc125724462"><span style='font-size:11.0pt'>Table </span></a><span style='font-size:11.0pt'>14</span><span style='font-size:11.0pt'>: BLEPLAT RNG
function</span></p>

<span style='font-size:11.0pt;line-height:115%;font-family:"Arial",sans-serif;
color:black'><br clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal style='margin-bottom:10.0pt;line-height:115%'><a
name="_Ref488250631"><b><span style='font-size:14.0pt;line-height:115%;
color:windowtext'>&nbsp;</span></b></a></p>

<span style='font-size:11.0pt;font-family:"Arial",sans-serif;color:black'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal><span class=Dxentry><span style='font-size:9.0pt'>ARM CC compiler
and Keil µvision are registered trademarks owned by ARM</span></span></p>

<p class=MsoNormal><span class=Dxentry><span style='font-size:9.0pt'>IAR C/C++
compiler is a registered trademark owned by IAR Systems</span></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=Dxtopicurl>http://dita.st.com/dx/ditaexchange/Repository/Topics/disclaimer_PUBLIC.xml</p>

<table class=Dxtablestyle border=0 cellspacing=0 cellpadding=0 width=629
 style='width:471.75pt;border-collapse:collapse;border:none'>
 <tr style='page-break-inside:avoid'>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'></td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'></td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&nbsp;</span></p>
  <p class=MsoNormal align=center style='text-align:center'><b><span
  style='font-size:10.0pt'>Please Read Carefully</span></b></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Dxentry><span style='font-size:9.0pt'>Information
  in this document is provided solely in connection with ST products.
  STMicroelectronics NV and its subsidiaries (&quot;ST&quot;) reserve the right
  to make changes, corrections, modifications or improvements, to this
  document, and the products and services described herein at any time, without
  notice. </span></span></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Dxentry><span style='font-size:9.0pt'>All ST
  products are sold pursuant to STs terms and conditions of sale. </span></span></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Dxentry><span style='font-size:9.0pt'>Purchasers
  are solely responsible for the choice, selection and use of the ST products
  and services described herein, and ST assumes no liability whatsoever
  relating to the choice, selection or use of the ST products and services
  described herein. </span></span></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Dxentry><span style='font-size:9.0pt'>No
  license, express or implied, by estoppel or otherwise, to any intellectual
  property rights is granted under this document. If any part of this document
  refers to any third party products or services it shall not be deemed a
  license grant by ST for the use of such third party products or services, or
  any intellectual property contained therein or considered as a warranty
  covering the use in any manner whatsoever of such third party products or
  services or any intellectual property contained therein. </span></span></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b><span style='font-size:10.0pt'>UNLESS OTHERWISE SET
  FORTH IN STS TERMS AND CONDITIONS OF SALE ST DISCLAIMS ANY EXPRESS OR
  IMPLIED WARRANTY WITH RESPECT TO THE USE AND/OR SALE OF ST PRODUCTS INCLUDING
  WITHOUT LIMITATION IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
  PARTICULAR PURPOSE (AND THEIR EQUIVALENTS UNDER THE LAWS OF ANY
  JURISDICTION), OR INFRINGEMENT OF ANY PATENT, COPYRIGHT OR OTHER INTELLECTUAL
  PROPERTY RIGHT.</span></b></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><b><span style='font-size:10.0pt'>ST PRODUCTS ARE NOT
  DESIGNED OR AUTHORIZED FOR USE IN: (A) SAFETY CRITICAL APPLICATIONS SUCH AS
  LIFE SUPPORTING, ACTIVE IMPLANTED DEVICES OR SYSTEMS WITH PRODUCT FUNCTIONAL
  SAFETY REQUIREMENTS; (B) AERONAUTIC APPLICATIONS; (C) AUTOMOTIVE APPLICATIONS
  OR ENVIRONMENTS, AND/OR (D) AEROSPACE APPLICATIONS OR ENVIRONMENTS. WHERE ST
  PRODUCTS ARE NOT DESIGNED FOR SUCH USE, THE PURCHASER SHALL USE PRODUCTS AT
  PURCHASERS SOLE RISK, EVEN IF ST HAS BEEN INFORMED IN WRITING OF SUCH USAGE,
  UNLESS A PRODUCT IS EXPRESSLY DESIGNATED BY ST AS BEING INTENDED FOR
  &quot;AUTOMOTIVE, AUTOMOTIVE SAFETY OR MEDICAL&quot; INDUSTRY DOMAINS
  ACCORDING TO ST PRODUCT DESIGN SPECIFICATIONS. PRODUCTS FORMALLY ESCC, QML OR
  JAN QUALIFIED ARE DEEMED SUITABLE FOR USE IN AEROSPACE BY THE CORRESPONDING
  GOVERNMENTAL AGENCY.</span></b></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal><span class=Dxentry><span style='font-size:9.0pt'>Resale
  of ST products with provisions different from the statements and/or technical
  features set forth in this document shall immediately void any warranty
  granted by ST for the ST product or service described herein and shall not
  create or extend in any manner whatsoever, any liability of ST. </span></span></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>&nbsp;</span></p>
  <p class=MsoNormal align=center style='text-align:center'><span
  style='font-size:10.0pt'>ST and the ST logo are trademarks or registered
  trademarks of ST in various countries. </span></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  class=Dxentry><span style='font-size:9.0pt'>Information in this document
  supersedes and replaces all information previously supplied. </span></span></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  class=Dxentry><span style='font-size:9.0pt'>The ST logo is a registered
  trademark of STMicroelectronics. All other names are the property of their
  respective owners. </span></span></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  class=Dxentry><span style='font-size:9.0pt'>© 2023 STMicroelectronics - All
  rights reserved </span></span></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  class=Dxentry><span style='font-size:9.0pt'>STMicroelectronics group of
  companies </span></span></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  class=Dxentry><span style='font-size:9.0pt'>Australia - Belgium - Brazil -
  Canada - China - Czech Republic - Finland - France - Germany - Hong Kong -
  India - Israel - Italy - Japan - Malaysia - Malta - Morocco - Philippines -
  Singapore - Spain - Sweden - Switzerland - United Kingdom - United States of
  America </span></span></p>
  </td>
 </tr>
 <tr style='page-break-inside:avoid'>
  <td valign=top style='padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span
  class=Dxentry><span style='font-size:9.0pt'>www.st.com </span></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

</div>

</body>

</html>
